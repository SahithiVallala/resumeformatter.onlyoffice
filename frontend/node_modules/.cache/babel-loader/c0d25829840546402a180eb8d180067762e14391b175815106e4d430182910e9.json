{"ast":null,"code":"/*\r\n * @license\r\n * docx-preview <https://github.com/VolodymyrBaydalka/docxjs>\r\n * Released under Apache License 2.0  <https://github.com/VolodymyrBaydalka/docxjs/blob/master/LICENSE>\r\n * Copyright Volodymyr Baydalka\r\n */\nimport JSZip from 'jszip';\nvar RelationshipTypes;\n(function (RelationshipTypes) {\n  RelationshipTypes[\"OfficeDocument\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument\";\n  RelationshipTypes[\"FontTable\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable\";\n  RelationshipTypes[\"Image\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image\";\n  RelationshipTypes[\"Numbering\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering\";\n  RelationshipTypes[\"Styles\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles\";\n  RelationshipTypes[\"StylesWithEffects\"] = \"http://schemas.microsoft.com/office/2007/relationships/stylesWithEffects\";\n  RelationshipTypes[\"Theme\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme\";\n  RelationshipTypes[\"Settings\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings\";\n  RelationshipTypes[\"WebSettings\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/webSettings\";\n  RelationshipTypes[\"Hyperlink\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink\";\n  RelationshipTypes[\"Footnotes\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes\";\n  RelationshipTypes[\"Endnotes\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/endnotes\";\n  RelationshipTypes[\"Footer\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer\";\n  RelationshipTypes[\"Header\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header\";\n  RelationshipTypes[\"ExtendedProperties\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties\";\n  RelationshipTypes[\"CoreProperties\"] = \"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties\";\n  RelationshipTypes[\"CustomProperties\"] = \"http://schemas.openxmlformats.org/package/2006/relationships/metadata/custom-properties\";\n  RelationshipTypes[\"Comments\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments\";\n  RelationshipTypes[\"CommentsExtended\"] = \"http://schemas.microsoft.com/office/2011/relationships/commentsExtended\";\n  RelationshipTypes[\"AltChunk\"] = \"http://schemas.openxmlformats.org/officeDocument/2006/relationships/aFChunk\";\n})(RelationshipTypes || (RelationshipTypes = {}));\nfunction parseRelationships(root, xml) {\n  return xml.elements(root).map(e => ({\n    id: xml.attr(e, \"Id\"),\n    type: xml.attr(e, \"Type\"),\n    target: xml.attr(e, \"Target\"),\n    targetMode: xml.attr(e, \"TargetMode\")\n  }));\n}\nfunction escapeClassName(className) {\n  return className?.replace(/[ .]+/g, '-').replace(/[&]+/g, 'and').toLowerCase();\n}\nfunction encloseFontFamily(fontFamily) {\n  return /^[^\"'].*\\s.*[^\"']$/.test(fontFamily) ? `'${fontFamily}'` : fontFamily;\n}\nfunction splitPath(path) {\n  let si = path.lastIndexOf('/') + 1;\n  let folder = si == 0 ? \"\" : path.substring(0, si);\n  let fileName = si == 0 ? path : path.substring(si);\n  return [folder, fileName];\n}\nfunction resolvePath(path, base) {\n  try {\n    const prefix = \"http://docx/\";\n    const url = new URL(path, prefix + base).toString();\n    return url.substring(prefix.length);\n  } catch {\n    return `${base}${path}`;\n  }\n}\nfunction keyBy(array, by) {\n  return array.reduce((a, x) => {\n    a[by(x)] = x;\n    return a;\n  }, {});\n}\nfunction blobToBase64(blob) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.onerror = () => reject();\n    reader.readAsDataURL(blob);\n  });\n}\nfunction isObject(item) {\n  return item && typeof item === 'object' && !Array.isArray(item);\n}\nfunction isString(item) {\n  return typeof item === 'string' || item instanceof String;\n}\nfunction mergeDeep(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        const val = target[key] ?? (target[key] = {});\n        mergeDeep(val, source[key]);\n      } else {\n        target[key] = source[key];\n      }\n    }\n  }\n  return mergeDeep(target, ...sources);\n}\nfunction asArray(val) {\n  return Array.isArray(val) ? val : [val];\n}\nfunction clamp(val, min, max) {\n  return min > val ? min : max < val ? max : val;\n}\nconst ns$1 = {\n  wordml: \"http://schemas.openxmlformats.org/wordprocessingml/2006/main\"\n};\nconst LengthUsage = {\n  Dxa: {\n    mul: 0.05,\n    unit: \"pt\"\n  },\n  Emu: {\n    mul: 1 / 12700,\n    unit: \"pt\"\n  },\n  FontSize: {\n    mul: 0.5,\n    unit: \"pt\"\n  },\n  Border: {\n    mul: 0.125,\n    unit: \"pt\",\n    min: 0.25,\n    max: 12\n  },\n  Point: {\n    mul: 1,\n    unit: \"pt\"\n  },\n  Percent: {\n    mul: 0.02,\n    unit: \"%\"\n  }\n};\nfunction convertLength(val, usage = LengthUsage.Dxa) {\n  if (val == null || /.+(p[xt]|[%])$/.test(val)) {\n    return val;\n  }\n  var num = parseInt(val) * usage.mul;\n  if (usage.min && usage.max) num = clamp(num, usage.min, usage.max);\n  return `${num.toFixed(2)}${usage.unit}`;\n}\nfunction convertBoolean(v, defaultValue = false) {\n  switch (v) {\n    case \"1\":\n      return true;\n    case \"0\":\n      return false;\n    case \"on\":\n      return true;\n    case \"off\":\n      return false;\n    case \"true\":\n      return true;\n    case \"false\":\n      return false;\n    default:\n      return defaultValue;\n  }\n}\nfunction parseCommonProperty(elem, props, xml) {\n  if (elem.namespaceURI != ns$1.wordml) return false;\n  switch (elem.localName) {\n    case \"color\":\n      props.color = xml.attr(elem, \"val\");\n      break;\n    case \"sz\":\n      props.fontSize = xml.lengthAttr(elem, \"val\", LengthUsage.FontSize);\n      break;\n    default:\n      return false;\n  }\n  return true;\n}\nfunction parseXmlString(xmlString, trimXmlDeclaration = false) {\n  if (trimXmlDeclaration) xmlString = xmlString.replace(/<[?].*[?]>/, \"\");\n  xmlString = removeUTF8BOM(xmlString);\n  const result = new DOMParser().parseFromString(xmlString, \"application/xml\");\n  const errorText = hasXmlParserError(result);\n  if (errorText) throw new Error(errorText);\n  return result;\n}\nfunction hasXmlParserError(doc) {\n  return doc.getElementsByTagName(\"parsererror\")[0]?.textContent;\n}\nfunction removeUTF8BOM(data) {\n  return data.charCodeAt(0) === 0xFEFF ? data.substring(1) : data;\n}\nfunction serializeXmlString(elem) {\n  return new XMLSerializer().serializeToString(elem);\n}\nclass XmlParser {\n  elements(elem, localName = null) {\n    const result = [];\n    for (let i = 0, l = elem.childNodes.length; i < l; i++) {\n      let c = elem.childNodes.item(i);\n      if (c.nodeType == Node.ELEMENT_NODE && (localName == null || c.localName == localName)) result.push(c);\n    }\n    return result;\n  }\n  element(elem, localName) {\n    for (let i = 0, l = elem.childNodes.length; i < l; i++) {\n      let c = elem.childNodes.item(i);\n      if (c.nodeType == 1 && c.localName == localName) return c;\n    }\n    return null;\n  }\n  elementAttr(elem, localName, attrLocalName) {\n    var el = this.element(elem, localName);\n    return el ? this.attr(el, attrLocalName) : undefined;\n  }\n  attrs(elem) {\n    return Array.from(elem.attributes);\n  }\n  attr(elem, localName) {\n    for (let i = 0, l = elem.attributes.length; i < l; i++) {\n      let a = elem.attributes.item(i);\n      if (a.localName == localName) return a.value;\n    }\n    return null;\n  }\n  intAttr(node, attrName, defaultValue = null) {\n    var val = this.attr(node, attrName);\n    return val ? parseInt(val) : defaultValue;\n  }\n  hexAttr(node, attrName, defaultValue = null) {\n    var val = this.attr(node, attrName);\n    return val ? parseInt(val, 16) : defaultValue;\n  }\n  floatAttr(node, attrName, defaultValue = null) {\n    var val = this.attr(node, attrName);\n    return val ? parseFloat(val) : defaultValue;\n  }\n  boolAttr(node, attrName, defaultValue = null) {\n    return convertBoolean(this.attr(node, attrName), defaultValue);\n  }\n  lengthAttr(node, attrName, usage = LengthUsage.Dxa) {\n    return convertLength(this.attr(node, attrName), usage);\n  }\n}\nconst globalXmlParser = new XmlParser();\nclass Part {\n  constructor(_package, path) {\n    this._package = _package;\n    this.path = path;\n  }\n  async load() {\n    this.rels = await this._package.loadRelationships(this.path);\n    const xmlText = await this._package.load(this.path);\n    const xmlDoc = this._package.parseXmlDocument(xmlText);\n    if (this._package.options.keepOrigin) {\n      this._xmlDocument = xmlDoc;\n    }\n    this.parseXml(xmlDoc.firstElementChild);\n  }\n  save() {\n    this._package.update(this.path, serializeXmlString(this._xmlDocument));\n  }\n  parseXml(root) {}\n}\nconst embedFontTypeMap = {\n  embedRegular: 'regular',\n  embedBold: 'bold',\n  embedItalic: 'italic',\n  embedBoldItalic: 'boldItalic'\n};\nfunction parseFonts(root, xml) {\n  return xml.elements(root).map(el => parseFont(el, xml));\n}\nfunction parseFont(elem, xml) {\n  let result = {\n    name: xml.attr(elem, \"name\"),\n    embedFontRefs: []\n  };\n  for (let el of xml.elements(elem)) {\n    switch (el.localName) {\n      case \"family\":\n        result.family = xml.attr(el, \"val\");\n        break;\n      case \"altName\":\n        result.altName = xml.attr(el, \"val\");\n        break;\n      case \"embedRegular\":\n      case \"embedBold\":\n      case \"embedItalic\":\n      case \"embedBoldItalic\":\n        result.embedFontRefs.push(parseEmbedFontRef(el, xml));\n        break;\n    }\n  }\n  return result;\n}\nfunction parseEmbedFontRef(elem, xml) {\n  return {\n    id: xml.attr(elem, \"id\"),\n    key: xml.attr(elem, \"fontKey\"),\n    type: embedFontTypeMap[elem.localName]\n  };\n}\nclass FontTablePart extends Part {\n  parseXml(root) {\n    this.fonts = parseFonts(root, this._package.xmlParser);\n  }\n}\nclass OpenXmlPackage {\n  constructor(_zip, options) {\n    this._zip = _zip;\n    this.options = options;\n    this.xmlParser = new XmlParser();\n  }\n  get(path) {\n    const p = normalizePath(path);\n    return this._zip.files[p] ?? this._zip.files[p.replace(/\\//g, '\\\\')];\n  }\n  update(path, content) {\n    this._zip.file(path, content);\n  }\n  static async load(input, options) {\n    const zip = await JSZip.loadAsync(input);\n    return new OpenXmlPackage(zip, options);\n  }\n  save(type = \"blob\") {\n    return this._zip.generateAsync({\n      type\n    });\n  }\n  load(path, type = \"string\") {\n    return this.get(path)?.async(type) ?? Promise.resolve(null);\n  }\n  async loadRelationships(path = null) {\n    let relsPath = `_rels/.rels`;\n    if (path != null) {\n      const [f, fn] = splitPath(path);\n      relsPath = `${f}_rels/${fn}.rels`;\n    }\n    const txt = await this.load(relsPath);\n    return txt ? parseRelationships(this.parseXmlDocument(txt).firstElementChild, this.xmlParser) : null;\n  }\n  parseXmlDocument(txt) {\n    return parseXmlString(txt, this.options.trimXmlDeclaration);\n  }\n}\nfunction normalizePath(path) {\n  return path.startsWith('/') ? path.substr(1) : path;\n}\nclass DocumentPart extends Part {\n  constructor(pkg, path, parser) {\n    super(pkg, path);\n    this._documentParser = parser;\n  }\n  parseXml(root) {\n    this.body = this._documentParser.parseDocumentFile(root);\n  }\n}\nfunction parseBorder(elem, xml) {\n  return {\n    type: xml.attr(elem, \"val\"),\n    color: xml.attr(elem, \"color\"),\n    size: xml.lengthAttr(elem, \"sz\", LengthUsage.Border),\n    offset: xml.lengthAttr(elem, \"space\", LengthUsage.Point),\n    frame: xml.boolAttr(elem, 'frame'),\n    shadow: xml.boolAttr(elem, 'shadow')\n  };\n}\nfunction parseBorders(elem, xml) {\n  var result = {};\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"left\":\n        result.left = parseBorder(e, xml);\n        break;\n      case \"top\":\n        result.top = parseBorder(e, xml);\n        break;\n      case \"right\":\n        result.right = parseBorder(e, xml);\n        break;\n      case \"bottom\":\n        result.bottom = parseBorder(e, xml);\n        break;\n    }\n  }\n  return result;\n}\nvar SectionType;\n(function (SectionType) {\n  SectionType[\"Continuous\"] = \"continuous\";\n  SectionType[\"NextPage\"] = \"nextPage\";\n  SectionType[\"NextColumn\"] = \"nextColumn\";\n  SectionType[\"EvenPage\"] = \"evenPage\";\n  SectionType[\"OddPage\"] = \"oddPage\";\n})(SectionType || (SectionType = {}));\nfunction parseSectionProperties(elem, xml = globalXmlParser) {\n  var section = {};\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"pgSz\":\n        section.pageSize = {\n          width: xml.lengthAttr(e, \"w\"),\n          height: xml.lengthAttr(e, \"h\"),\n          orientation: xml.attr(e, \"orient\")\n        };\n        break;\n      case \"type\":\n        section.type = xml.attr(e, \"val\");\n        break;\n      case \"pgMar\":\n        section.pageMargins = {\n          left: xml.lengthAttr(e, \"left\"),\n          right: xml.lengthAttr(e, \"right\"),\n          top: xml.lengthAttr(e, \"top\"),\n          bottom: xml.lengthAttr(e, \"bottom\"),\n          header: xml.lengthAttr(e, \"header\"),\n          footer: xml.lengthAttr(e, \"footer\"),\n          gutter: xml.lengthAttr(e, \"gutter\")\n        };\n        break;\n      case \"cols\":\n        section.columns = parseColumns(e, xml);\n        break;\n      case \"headerReference\":\n        (section.headerRefs ?? (section.headerRefs = [])).push(parseFooterHeaderReference(e, xml));\n        break;\n      case \"footerReference\":\n        (section.footerRefs ?? (section.footerRefs = [])).push(parseFooterHeaderReference(e, xml));\n        break;\n      case \"titlePg\":\n        section.titlePage = xml.boolAttr(e, \"val\", true);\n        break;\n      case \"pgBorders\":\n        section.pageBorders = parseBorders(e, xml);\n        break;\n      case \"pgNumType\":\n        section.pageNumber = parsePageNumber(e, xml);\n        break;\n    }\n  }\n  return section;\n}\nfunction parseColumns(elem, xml) {\n  return {\n    numberOfColumns: xml.intAttr(elem, \"num\"),\n    space: xml.lengthAttr(elem, \"space\"),\n    separator: xml.boolAttr(elem, \"sep\"),\n    equalWidth: xml.boolAttr(elem, \"equalWidth\", true),\n    columns: xml.elements(elem, \"col\").map(e => ({\n      width: xml.lengthAttr(e, \"w\"),\n      space: xml.lengthAttr(e, \"space\")\n    }))\n  };\n}\nfunction parsePageNumber(elem, xml) {\n  return {\n    chapSep: xml.attr(elem, \"chapSep\"),\n    chapStyle: xml.attr(elem, \"chapStyle\"),\n    format: xml.attr(elem, \"fmt\"),\n    start: xml.intAttr(elem, \"start\")\n  };\n}\nfunction parseFooterHeaderReference(elem, xml) {\n  return {\n    id: xml.attr(elem, \"id\"),\n    type: xml.attr(elem, \"type\")\n  };\n}\nfunction parseLineSpacing(elem, xml) {\n  return {\n    before: xml.lengthAttr(elem, \"before\"),\n    after: xml.lengthAttr(elem, \"after\"),\n    line: xml.intAttr(elem, \"line\"),\n    lineRule: xml.attr(elem, \"lineRule\")\n  };\n}\nfunction parseRunProperties(elem, xml) {\n  let result = {};\n  for (let el of xml.elements(elem)) {\n    parseRunProperty(el, result, xml);\n  }\n  return result;\n}\nfunction parseRunProperty(elem, props, xml) {\n  if (parseCommonProperty(elem, props, xml)) return true;\n  return false;\n}\nfunction parseParagraphProperties(elem, xml) {\n  let result = {};\n  for (let el of xml.elements(elem)) {\n    parseParagraphProperty(el, result, xml);\n  }\n  return result;\n}\nfunction parseParagraphProperty(elem, props, xml) {\n  if (elem.namespaceURI != ns$1.wordml) return false;\n  if (parseCommonProperty(elem, props, xml)) return true;\n  switch (elem.localName) {\n    case \"tabs\":\n      props.tabs = parseTabs(elem, xml);\n      break;\n    case \"sectPr\":\n      props.sectionProps = parseSectionProperties(elem, xml);\n      break;\n    case \"numPr\":\n      props.numbering = parseNumbering$1(elem, xml);\n      break;\n    case \"spacing\":\n      props.lineSpacing = parseLineSpacing(elem, xml);\n      return false;\n    case \"textAlignment\":\n      props.textAlignment = xml.attr(elem, \"val\");\n      return false;\n    case \"keepLines\":\n      props.keepLines = xml.boolAttr(elem, \"val\", true);\n      break;\n    case \"keepNext\":\n      props.keepNext = xml.boolAttr(elem, \"val\", true);\n      break;\n    case \"pageBreakBefore\":\n      props.pageBreakBefore = xml.boolAttr(elem, \"val\", true);\n      break;\n    case \"outlineLvl\":\n      props.outlineLevel = xml.intAttr(elem, \"val\");\n      break;\n    case \"pStyle\":\n      props.styleName = xml.attr(elem, \"val\");\n      break;\n    case \"rPr\":\n      props.runProps = parseRunProperties(elem, xml);\n      break;\n    default:\n      return false;\n  }\n  return true;\n}\nfunction parseTabs(elem, xml) {\n  return xml.elements(elem, \"tab\").map(e => ({\n    position: xml.lengthAttr(e, \"pos\"),\n    leader: xml.attr(e, \"leader\"),\n    style: xml.attr(e, \"val\")\n  }));\n}\nfunction parseNumbering$1(elem, xml) {\n  var result = {};\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"numId\":\n        result.id = xml.attr(e, \"val\");\n        break;\n      case \"ilvl\":\n        result.level = xml.intAttr(e, \"val\");\n        break;\n    }\n  }\n  return result;\n}\nfunction parseNumberingPart(elem, xml) {\n  let result = {\n    numberings: [],\n    abstractNumberings: [],\n    bulletPictures: []\n  };\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"num\":\n        result.numberings.push(parseNumbering(e, xml));\n        break;\n      case \"abstractNum\":\n        result.abstractNumberings.push(parseAbstractNumbering(e, xml));\n        break;\n      case \"numPicBullet\":\n        result.bulletPictures.push(parseNumberingBulletPicture(e, xml));\n        break;\n    }\n  }\n  return result;\n}\nfunction parseNumbering(elem, xml) {\n  let result = {\n    id: xml.attr(elem, 'numId'),\n    overrides: []\n  };\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"abstractNumId\":\n        result.abstractId = xml.attr(e, \"val\");\n        break;\n      case \"lvlOverride\":\n        result.overrides.push(parseNumberingLevelOverrride(e, xml));\n        break;\n    }\n  }\n  return result;\n}\nfunction parseAbstractNumbering(elem, xml) {\n  let result = {\n    id: xml.attr(elem, 'abstractNumId'),\n    levels: []\n  };\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"name\":\n        result.name = xml.attr(e, \"val\");\n        break;\n      case \"multiLevelType\":\n        result.multiLevelType = xml.attr(e, \"val\");\n        break;\n      case \"numStyleLink\":\n        result.numberingStyleLink = xml.attr(e, \"val\");\n        break;\n      case \"styleLink\":\n        result.styleLink = xml.attr(e, \"val\");\n        break;\n      case \"lvl\":\n        result.levels.push(parseNumberingLevel(e, xml));\n        break;\n    }\n  }\n  return result;\n}\nfunction parseNumberingLevel(elem, xml) {\n  let result = {\n    level: xml.intAttr(elem, 'ilvl')\n  };\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"start\":\n        result.start = xml.attr(e, \"val\");\n        break;\n      case \"lvlRestart\":\n        result.restart = xml.intAttr(e, \"val\");\n        break;\n      case \"numFmt\":\n        result.format = xml.attr(e, \"val\");\n        break;\n      case \"lvlText\":\n        result.text = xml.attr(e, \"val\");\n        break;\n      case \"lvlJc\":\n        result.justification = xml.attr(e, \"val\");\n        break;\n      case \"lvlPicBulletId\":\n        result.bulletPictureId = xml.attr(e, \"val\");\n        break;\n      case \"pStyle\":\n        result.paragraphStyle = xml.attr(e, \"val\");\n        break;\n      case \"pPr\":\n        result.paragraphProps = parseParagraphProperties(e, xml);\n        break;\n      case \"rPr\":\n        result.runProps = parseRunProperties(e, xml);\n        break;\n    }\n  }\n  return result;\n}\nfunction parseNumberingLevelOverrride(elem, xml) {\n  let result = {\n    level: xml.intAttr(elem, 'ilvl')\n  };\n  for (let e of xml.elements(elem)) {\n    switch (e.localName) {\n      case \"startOverride\":\n        result.start = xml.intAttr(e, \"val\");\n        break;\n      case \"lvl\":\n        result.numberingLevel = parseNumberingLevel(e, xml);\n        break;\n    }\n  }\n  return result;\n}\nfunction parseNumberingBulletPicture(elem, xml) {\n  var pict = xml.element(elem, \"pict\");\n  var shape = pict && xml.element(pict, \"shape\");\n  var imagedata = shape && xml.element(shape, \"imagedata\");\n  return imagedata ? {\n    id: xml.attr(elem, \"numPicBulletId\"),\n    referenceId: xml.attr(imagedata, \"id\"),\n    style: xml.attr(shape, \"style\")\n  } : null;\n}\nclass NumberingPart extends Part {\n  constructor(pkg, path, parser) {\n    super(pkg, path);\n    this._documentParser = parser;\n  }\n  parseXml(root) {\n    Object.assign(this, parseNumberingPart(root, this._package.xmlParser));\n    this.domNumberings = this._documentParser.parseNumberingFile(root);\n  }\n}\nclass StylesPart extends Part {\n  constructor(pkg, path, parser) {\n    super(pkg, path);\n    this._documentParser = parser;\n  }\n  parseXml(root) {\n    this.styles = this._documentParser.parseStylesFile(root);\n  }\n}\nvar DomType;\n(function (DomType) {\n  DomType[\"Document\"] = \"document\";\n  DomType[\"Paragraph\"] = \"paragraph\";\n  DomType[\"Run\"] = \"run\";\n  DomType[\"Break\"] = \"break\";\n  DomType[\"NoBreakHyphen\"] = \"noBreakHyphen\";\n  DomType[\"Table\"] = \"table\";\n  DomType[\"Row\"] = \"row\";\n  DomType[\"Cell\"] = \"cell\";\n  DomType[\"Hyperlink\"] = \"hyperlink\";\n  DomType[\"SmartTag\"] = \"smartTag\";\n  DomType[\"Drawing\"] = \"drawing\";\n  DomType[\"Image\"] = \"image\";\n  DomType[\"Text\"] = \"text\";\n  DomType[\"Tab\"] = \"tab\";\n  DomType[\"Symbol\"] = \"symbol\";\n  DomType[\"BookmarkStart\"] = \"bookmarkStart\";\n  DomType[\"BookmarkEnd\"] = \"bookmarkEnd\";\n  DomType[\"Footer\"] = \"footer\";\n  DomType[\"Header\"] = \"header\";\n  DomType[\"FootnoteReference\"] = \"footnoteReference\";\n  DomType[\"EndnoteReference\"] = \"endnoteReference\";\n  DomType[\"Footnote\"] = \"footnote\";\n  DomType[\"Endnote\"] = \"endnote\";\n  DomType[\"SimpleField\"] = \"simpleField\";\n  DomType[\"ComplexField\"] = \"complexField\";\n  DomType[\"Instruction\"] = \"instruction\";\n  DomType[\"VmlPicture\"] = \"vmlPicture\";\n  DomType[\"MmlMath\"] = \"mmlMath\";\n  DomType[\"MmlMathParagraph\"] = \"mmlMathParagraph\";\n  DomType[\"MmlFraction\"] = \"mmlFraction\";\n  DomType[\"MmlFunction\"] = \"mmlFunction\";\n  DomType[\"MmlFunctionName\"] = \"mmlFunctionName\";\n  DomType[\"MmlNumerator\"] = \"mmlNumerator\";\n  DomType[\"MmlDenominator\"] = \"mmlDenominator\";\n  DomType[\"MmlRadical\"] = \"mmlRadical\";\n  DomType[\"MmlBase\"] = \"mmlBase\";\n  DomType[\"MmlDegree\"] = \"mmlDegree\";\n  DomType[\"MmlSuperscript\"] = \"mmlSuperscript\";\n  DomType[\"MmlSubscript\"] = \"mmlSubscript\";\n  DomType[\"MmlPreSubSuper\"] = \"mmlPreSubSuper\";\n  DomType[\"MmlSubArgument\"] = \"mmlSubArgument\";\n  DomType[\"MmlSuperArgument\"] = \"mmlSuperArgument\";\n  DomType[\"MmlNary\"] = \"mmlNary\";\n  DomType[\"MmlDelimiter\"] = \"mmlDelimiter\";\n  DomType[\"MmlRun\"] = \"mmlRun\";\n  DomType[\"MmlEquationArray\"] = \"mmlEquationArray\";\n  DomType[\"MmlLimit\"] = \"mmlLimit\";\n  DomType[\"MmlLimitLower\"] = \"mmlLimitLower\";\n  DomType[\"MmlMatrix\"] = \"mmlMatrix\";\n  DomType[\"MmlMatrixRow\"] = \"mmlMatrixRow\";\n  DomType[\"MmlBox\"] = \"mmlBox\";\n  DomType[\"MmlBar\"] = \"mmlBar\";\n  DomType[\"MmlGroupChar\"] = \"mmlGroupChar\";\n  DomType[\"VmlElement\"] = \"vmlElement\";\n  DomType[\"Inserted\"] = \"inserted\";\n  DomType[\"Deleted\"] = \"deleted\";\n  DomType[\"DeletedText\"] = \"deletedText\";\n  DomType[\"Comment\"] = \"comment\";\n  DomType[\"CommentReference\"] = \"commentReference\";\n  DomType[\"CommentRangeStart\"] = \"commentRangeStart\";\n  DomType[\"CommentRangeEnd\"] = \"commentRangeEnd\";\n  DomType[\"AltChunk\"] = \"altChunk\";\n})(DomType || (DomType = {}));\nclass OpenXmlElementBase {\n  constructor() {\n    this.children = [];\n    this.cssStyle = {};\n  }\n}\nclass WmlHeader extends OpenXmlElementBase {\n  constructor() {\n    super(...arguments);\n    this.type = DomType.Header;\n  }\n}\nclass WmlFooter extends OpenXmlElementBase {\n  constructor() {\n    super(...arguments);\n    this.type = DomType.Footer;\n  }\n}\nclass BaseHeaderFooterPart extends Part {\n  constructor(pkg, path, parser) {\n    super(pkg, path);\n    this._documentParser = parser;\n  }\n  parseXml(root) {\n    this.rootElement = this.createRootElement();\n    this.rootElement.children = this._documentParser.parseBodyElements(root);\n  }\n}\nclass HeaderPart extends BaseHeaderFooterPart {\n  createRootElement() {\n    return new WmlHeader();\n  }\n}\nclass FooterPart extends BaseHeaderFooterPart {\n  createRootElement() {\n    return new WmlFooter();\n  }\n}\nfunction parseExtendedProps(root, xmlParser) {\n  const result = {};\n  for (let el of xmlParser.elements(root)) {\n    switch (el.localName) {\n      case \"Template\":\n        result.template = el.textContent;\n        break;\n      case \"Pages\":\n        result.pages = safeParseToInt(el.textContent);\n        break;\n      case \"Words\":\n        result.words = safeParseToInt(el.textContent);\n        break;\n      case \"Characters\":\n        result.characters = safeParseToInt(el.textContent);\n        break;\n      case \"Application\":\n        result.application = el.textContent;\n        break;\n      case \"Lines\":\n        result.lines = safeParseToInt(el.textContent);\n        break;\n      case \"Paragraphs\":\n        result.paragraphs = safeParseToInt(el.textContent);\n        break;\n      case \"Company\":\n        result.company = el.textContent;\n        break;\n      case \"AppVersion\":\n        result.appVersion = el.textContent;\n        break;\n    }\n  }\n  return result;\n}\nfunction safeParseToInt(value) {\n  if (typeof value === 'undefined') return;\n  return parseInt(value);\n}\nclass ExtendedPropsPart extends Part {\n  parseXml(root) {\n    this.props = parseExtendedProps(root, this._package.xmlParser);\n  }\n}\nfunction parseCoreProps(root, xmlParser) {\n  const result = {};\n  for (let el of xmlParser.elements(root)) {\n    switch (el.localName) {\n      case \"title\":\n        result.title = el.textContent;\n        break;\n      case \"description\":\n        result.description = el.textContent;\n        break;\n      case \"subject\":\n        result.subject = el.textContent;\n        break;\n      case \"creator\":\n        result.creator = el.textContent;\n        break;\n      case \"keywords\":\n        result.keywords = el.textContent;\n        break;\n      case \"language\":\n        result.language = el.textContent;\n        break;\n      case \"lastModifiedBy\":\n        result.lastModifiedBy = el.textContent;\n        break;\n      case \"revision\":\n        el.textContent && (result.revision = parseInt(el.textContent));\n        break;\n    }\n  }\n  return result;\n}\nclass CorePropsPart extends Part {\n  parseXml(root) {\n    this.props = parseCoreProps(root, this._package.xmlParser);\n  }\n}\nclass DmlTheme {}\nfunction parseTheme(elem, xml) {\n  var result = new DmlTheme();\n  var themeElements = xml.element(elem, \"themeElements\");\n  for (let el of xml.elements(themeElements)) {\n    switch (el.localName) {\n      case \"clrScheme\":\n        result.colorScheme = parseColorScheme(el, xml);\n        break;\n      case \"fontScheme\":\n        result.fontScheme = parseFontScheme(el, xml);\n        break;\n    }\n  }\n  return result;\n}\nfunction parseColorScheme(elem, xml) {\n  var result = {\n    name: xml.attr(elem, \"name\"),\n    colors: {}\n  };\n  for (let el of xml.elements(elem)) {\n    var srgbClr = xml.element(el, \"srgbClr\");\n    var sysClr = xml.element(el, \"sysClr\");\n    if (srgbClr) {\n      result.colors[el.localName] = xml.attr(srgbClr, \"val\");\n    } else if (sysClr) {\n      result.colors[el.localName] = xml.attr(sysClr, \"lastClr\");\n    }\n  }\n  return result;\n}\nfunction parseFontScheme(elem, xml) {\n  var result = {\n    name: xml.attr(elem, \"name\")\n  };\n  for (let el of xml.elements(elem)) {\n    switch (el.localName) {\n      case \"majorFont\":\n        result.majorFont = parseFontInfo(el, xml);\n        break;\n      case \"minorFont\":\n        result.minorFont = parseFontInfo(el, xml);\n        break;\n    }\n  }\n  return result;\n}\nfunction parseFontInfo(elem, xml) {\n  return {\n    latinTypeface: xml.elementAttr(elem, \"latin\", \"typeface\"),\n    eaTypeface: xml.elementAttr(elem, \"ea\", \"typeface\"),\n    csTypeface: xml.elementAttr(elem, \"cs\", \"typeface\")\n  };\n}\nclass ThemePart extends Part {\n  constructor(pkg, path) {\n    super(pkg, path);\n  }\n  parseXml(root) {\n    this.theme = parseTheme(root, this._package.xmlParser);\n  }\n}\nclass WmlBaseNote {}\nclass WmlFootnote extends WmlBaseNote {\n  constructor() {\n    super(...arguments);\n    this.type = DomType.Footnote;\n  }\n}\nclass WmlEndnote extends WmlBaseNote {\n  constructor() {\n    super(...arguments);\n    this.type = DomType.Endnote;\n  }\n}\nclass BaseNotePart extends Part {\n  constructor(pkg, path, parser) {\n    super(pkg, path);\n    this._documentParser = parser;\n  }\n}\nclass FootnotesPart extends BaseNotePart {\n  constructor(pkg, path, parser) {\n    super(pkg, path, parser);\n  }\n  parseXml(root) {\n    this.notes = this._documentParser.parseNotes(root, \"footnote\", WmlFootnote);\n  }\n}\nclass EndnotesPart extends BaseNotePart {\n  constructor(pkg, path, parser) {\n    super(pkg, path, parser);\n  }\n  parseXml(root) {\n    this.notes = this._documentParser.parseNotes(root, \"endnote\", WmlEndnote);\n  }\n}\nfunction parseSettings(elem, xml) {\n  var result = {};\n  for (let el of xml.elements(elem)) {\n    switch (el.localName) {\n      case \"defaultTabStop\":\n        result.defaultTabStop = xml.lengthAttr(el, \"val\");\n        break;\n      case \"footnotePr\":\n        result.footnoteProps = parseNoteProperties(el, xml);\n        break;\n      case \"endnotePr\":\n        result.endnoteProps = parseNoteProperties(el, xml);\n        break;\n      case \"autoHyphenation\":\n        result.autoHyphenation = xml.boolAttr(el, \"val\");\n        break;\n    }\n  }\n  return result;\n}\nfunction parseNoteProperties(elem, xml) {\n  var result = {\n    defaultNoteIds: []\n  };\n  for (let el of xml.elements(elem)) {\n    switch (el.localName) {\n      case \"numFmt\":\n        result.nummeringFormat = xml.attr(el, \"val\");\n        break;\n      case \"footnote\":\n      case \"endnote\":\n        result.defaultNoteIds.push(xml.attr(el, \"id\"));\n        break;\n    }\n  }\n  return result;\n}\nclass SettingsPart extends Part {\n  constructor(pkg, path) {\n    super(pkg, path);\n  }\n  parseXml(root) {\n    this.settings = parseSettings(root, this._package.xmlParser);\n  }\n}\nfunction parseCustomProps(root, xml) {\n  return xml.elements(root, \"property\").map(e => {\n    const firstChild = e.firstChild;\n    return {\n      formatId: xml.attr(e, \"fmtid\"),\n      name: xml.attr(e, \"name\"),\n      type: firstChild.nodeName,\n      value: firstChild.textContent\n    };\n  });\n}\nclass CustomPropsPart extends Part {\n  parseXml(root) {\n    this.props = parseCustomProps(root, this._package.xmlParser);\n  }\n}\nclass CommentsPart extends Part {\n  constructor(pkg, path, parser) {\n    super(pkg, path);\n    this._documentParser = parser;\n  }\n  parseXml(root) {\n    this.comments = this._documentParser.parseComments(root);\n    this.commentMap = keyBy(this.comments, x => x.id);\n  }\n}\nclass CommentsExtendedPart extends Part {\n  constructor(pkg, path) {\n    super(pkg, path);\n    this.comments = [];\n  }\n  parseXml(root) {\n    const xml = this._package.xmlParser;\n    for (let el of xml.elements(root, \"commentEx\")) {\n      this.comments.push({\n        paraId: xml.attr(el, 'paraId'),\n        paraIdParent: xml.attr(el, 'paraIdParent'),\n        done: xml.boolAttr(el, 'done')\n      });\n    }\n    this.commentMap = keyBy(this.comments, x => x.paraId);\n  }\n}\nconst topLevelRels = [{\n  type: RelationshipTypes.OfficeDocument,\n  target: \"word/document.xml\"\n}, {\n  type: RelationshipTypes.ExtendedProperties,\n  target: \"docProps/app.xml\"\n}, {\n  type: RelationshipTypes.CoreProperties,\n  target: \"docProps/core.xml\"\n}, {\n  type: RelationshipTypes.CustomProperties,\n  target: \"docProps/custom.xml\"\n}];\nclass WordDocument {\n  constructor() {\n    this.parts = [];\n    this.partsMap = {};\n  }\n  static async load(blob, parser, options) {\n    var d = new WordDocument();\n    d._options = options;\n    d._parser = parser;\n    d._package = await OpenXmlPackage.load(blob, options);\n    d.rels = await d._package.loadRelationships();\n    await Promise.all(topLevelRels.map(rel => {\n      const r = d.rels.find(x => x.type === rel.type) ?? rel;\n      return d.loadRelationshipPart(r.target, r.type);\n    }));\n    return d;\n  }\n  save(type = \"blob\") {\n    return this._package.save(type);\n  }\n  async loadRelationshipPart(path, type) {\n    if (this.partsMap[path]) return this.partsMap[path];\n    if (!this._package.get(path)) return null;\n    let part = null;\n    switch (type) {\n      case RelationshipTypes.OfficeDocument:\n        this.documentPart = part = new DocumentPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.FontTable:\n        this.fontTablePart = part = new FontTablePart(this._package, path);\n        break;\n      case RelationshipTypes.Numbering:\n        this.numberingPart = part = new NumberingPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.Styles:\n        this.stylesPart = part = new StylesPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.Theme:\n        this.themePart = part = new ThemePart(this._package, path);\n        break;\n      case RelationshipTypes.Footnotes:\n        this.footnotesPart = part = new FootnotesPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.Endnotes:\n        this.endnotesPart = part = new EndnotesPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.Footer:\n        part = new FooterPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.Header:\n        part = new HeaderPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.CoreProperties:\n        this.corePropsPart = part = new CorePropsPart(this._package, path);\n        break;\n      case RelationshipTypes.ExtendedProperties:\n        this.extendedPropsPart = part = new ExtendedPropsPart(this._package, path);\n        break;\n      case RelationshipTypes.CustomProperties:\n        part = new CustomPropsPart(this._package, path);\n        break;\n      case RelationshipTypes.Settings:\n        this.settingsPart = part = new SettingsPart(this._package, path);\n        break;\n      case RelationshipTypes.Comments:\n        this.commentsPart = part = new CommentsPart(this._package, path, this._parser);\n        break;\n      case RelationshipTypes.CommentsExtended:\n        this.commentsExtendedPart = part = new CommentsExtendedPart(this._package, path);\n        break;\n    }\n    if (part == null) return Promise.resolve(null);\n    this.partsMap[path] = part;\n    this.parts.push(part);\n    await part.load();\n    if (part.rels?.length > 0) {\n      const [folder] = splitPath(part.path);\n      await Promise.all(part.rels.map(rel => this.loadRelationshipPart(resolvePath(rel.target, folder), rel.type)));\n    }\n    return part;\n  }\n  async loadDocumentImage(id, part) {\n    const x = await this.loadResource(part ?? this.documentPart, id, \"blob\");\n    return this.blobToURL(x);\n  }\n  async loadNumberingImage(id) {\n    const x = await this.loadResource(this.numberingPart, id, \"blob\");\n    return this.blobToURL(x);\n  }\n  async loadFont(id, key) {\n    const x = await this.loadResource(this.fontTablePart, id, \"uint8array\");\n    return x ? this.blobToURL(new Blob([deobfuscate(x, key)])) : x;\n  }\n  async loadAltChunk(id, part) {\n    return await this.loadResource(part ?? this.documentPart, id, \"string\");\n  }\n  blobToURL(blob) {\n    if (!blob) return null;\n    if (this._options.useBase64URL) {\n      return blobToBase64(blob);\n    }\n    return URL.createObjectURL(blob);\n  }\n  findPartByRelId(id, basePart = null) {\n    var rel = (basePart.rels ?? this.rels).find(r => r.id == id);\n    const folder = basePart ? splitPath(basePart.path)[0] : '';\n    return rel ? this.partsMap[resolvePath(rel.target, folder)] : null;\n  }\n  getPathById(part, id) {\n    const rel = part.rels.find(x => x.id == id);\n    const [folder] = splitPath(part.path);\n    return rel ? resolvePath(rel.target, folder) : null;\n  }\n  loadResource(part, id, outputType) {\n    const path = this.getPathById(part, id);\n    return path ? this._package.load(path, outputType) : Promise.resolve(null);\n  }\n}\nfunction deobfuscate(data, guidKey) {\n  const len = 16;\n  const trimmed = guidKey.replace(/{|}|-/g, \"\");\n  const numbers = new Array(len);\n  for (let i = 0; i < len; i++) numbers[len - i - 1] = parseInt(trimmed.substring(i * 2, i * 2 + 2), 16);\n  for (let i = 0; i < 32; i++) data[i] = data[i] ^ numbers[i % len];\n  return data;\n}\nfunction parseBookmarkStart(elem, xml) {\n  return {\n    type: DomType.BookmarkStart,\n    id: xml.attr(elem, \"id\"),\n    name: xml.attr(elem, \"name\"),\n    colFirst: xml.intAttr(elem, \"colFirst\"),\n    colLast: xml.intAttr(elem, \"colLast\")\n  };\n}\nfunction parseBookmarkEnd(elem, xml) {\n  return {\n    type: DomType.BookmarkEnd,\n    id: xml.attr(elem, \"id\")\n  };\n}\nclass VmlElement extends OpenXmlElementBase {\n  constructor() {\n    super(...arguments);\n    this.type = DomType.VmlElement;\n    this.attrs = {};\n  }\n}\nfunction parseVmlElement(elem, parser) {\n  var result = new VmlElement();\n  switch (elem.localName) {\n    case \"rect\":\n      result.tagName = \"rect\";\n      Object.assign(result.attrs, {\n        width: '100%',\n        height: '100%'\n      });\n      break;\n    case \"oval\":\n      result.tagName = \"ellipse\";\n      Object.assign(result.attrs, {\n        cx: \"50%\",\n        cy: \"50%\",\n        rx: \"50%\",\n        ry: \"50%\"\n      });\n      break;\n    case \"line\":\n      result.tagName = \"line\";\n      break;\n    case \"shape\":\n      result.tagName = \"g\";\n      break;\n    case \"textbox\":\n      result.tagName = \"foreignObject\";\n      Object.assign(result.attrs, {\n        width: '100%',\n        height: '100%'\n      });\n      break;\n    default:\n      return null;\n  }\n  for (const at of globalXmlParser.attrs(elem)) {\n    switch (at.localName) {\n      case \"style\":\n        result.cssStyleText = at.value;\n        break;\n      case \"fillcolor\":\n        result.attrs.fill = at.value;\n        break;\n      case \"from\":\n        const [x1, y1] = parsePoint(at.value);\n        Object.assign(result.attrs, {\n          x1,\n          y1\n        });\n        break;\n      case \"to\":\n        const [x2, y2] = parsePoint(at.value);\n        Object.assign(result.attrs, {\n          x2,\n          y2\n        });\n        break;\n    }\n  }\n  for (const el of globalXmlParser.elements(elem)) {\n    switch (el.localName) {\n      case \"stroke\":\n        Object.assign(result.attrs, parseStroke(el));\n        break;\n      case \"fill\":\n        Object.assign(result.attrs, parseFill());\n        break;\n      case \"imagedata\":\n        result.tagName = \"image\";\n        Object.assign(result.attrs, {\n          width: '100%',\n          height: '100%'\n        });\n        result.imageHref = {\n          id: globalXmlParser.attr(el, \"id\"),\n          title: globalXmlParser.attr(el, \"title\")\n        };\n        break;\n      case \"txbxContent\":\n        result.children.push(...parser.parseBodyElements(el));\n        break;\n      default:\n        const child = parseVmlElement(el, parser);\n        child && result.children.push(child);\n        break;\n    }\n  }\n  return result;\n}\nfunction parseStroke(el) {\n  return {\n    'stroke': globalXmlParser.attr(el, \"color\"),\n    'stroke-width': globalXmlParser.lengthAttr(el, \"weight\", LengthUsage.Emu) ?? '1px'\n  };\n}\nfunction parseFill(el) {\n  return {};\n}\nfunction parsePoint(val) {\n  return val.split(\",\");\n}\nclass WmlComment extends OpenXmlElementBase {\n  constructor() {\n    super(...arguments);\n    this.type = DomType.Comment;\n  }\n}\nclass WmlCommentReference extends OpenXmlElementBase {\n  constructor(id) {\n    super();\n    this.id = id;\n    this.type = DomType.CommentReference;\n  }\n}\nclass WmlCommentRangeStart extends OpenXmlElementBase {\n  constructor(id) {\n    super();\n    this.id = id;\n    this.type = DomType.CommentRangeStart;\n  }\n}\nclass WmlCommentRangeEnd extends OpenXmlElementBase {\n  constructor(id) {\n    super();\n    this.id = id;\n    this.type = DomType.CommentRangeEnd;\n  }\n}\nvar autos = {\n  shd: \"inherit\",\n  color: \"black\",\n  borderColor: \"black\",\n  highlight: \"transparent\"\n};\nconst supportedNamespaceURIs = [];\nconst mmlTagMap = {\n  \"oMath\": DomType.MmlMath,\n  \"oMathPara\": DomType.MmlMathParagraph,\n  \"f\": DomType.MmlFraction,\n  \"func\": DomType.MmlFunction,\n  \"fName\": DomType.MmlFunctionName,\n  \"num\": DomType.MmlNumerator,\n  \"den\": DomType.MmlDenominator,\n  \"rad\": DomType.MmlRadical,\n  \"deg\": DomType.MmlDegree,\n  \"e\": DomType.MmlBase,\n  \"sSup\": DomType.MmlSuperscript,\n  \"sSub\": DomType.MmlSubscript,\n  \"sPre\": DomType.MmlPreSubSuper,\n  \"sup\": DomType.MmlSuperArgument,\n  \"sub\": DomType.MmlSubArgument,\n  \"d\": DomType.MmlDelimiter,\n  \"nary\": DomType.MmlNary,\n  \"eqArr\": DomType.MmlEquationArray,\n  \"lim\": DomType.MmlLimit,\n  \"limLow\": DomType.MmlLimitLower,\n  \"m\": DomType.MmlMatrix,\n  \"mr\": DomType.MmlMatrixRow,\n  \"box\": DomType.MmlBox,\n  \"bar\": DomType.MmlBar,\n  \"groupChr\": DomType.MmlGroupChar\n};\nclass DocumentParser {\n  constructor(options) {\n    this.options = {\n      ignoreWidth: false,\n      debug: false,\n      ...options\n    };\n  }\n  parseNotes(xmlDoc, elemName, elemClass) {\n    var result = [];\n    for (let el of globalXmlParser.elements(xmlDoc, elemName)) {\n      const node = new elemClass();\n      node.id = globalXmlParser.attr(el, \"id\");\n      node.noteType = globalXmlParser.attr(el, \"type\");\n      node.children = this.parseBodyElements(el);\n      result.push(node);\n    }\n    return result;\n  }\n  parseComments(xmlDoc) {\n    var result = [];\n    for (let el of globalXmlParser.elements(xmlDoc, \"comment\")) {\n      const item = new WmlComment();\n      item.id = globalXmlParser.attr(el, \"id\");\n      item.author = globalXmlParser.attr(el, \"author\");\n      item.initials = globalXmlParser.attr(el, \"initials\");\n      item.date = globalXmlParser.attr(el, \"date\");\n      item.children = this.parseBodyElements(el);\n      result.push(item);\n    }\n    return result;\n  }\n  parseDocumentFile(xmlDoc) {\n    var xbody = globalXmlParser.element(xmlDoc, \"body\");\n    var background = globalXmlParser.element(xmlDoc, \"background\");\n    var sectPr = globalXmlParser.element(xbody, \"sectPr\");\n    return {\n      type: DomType.Document,\n      children: this.parseBodyElements(xbody),\n      props: sectPr ? parseSectionProperties(sectPr, globalXmlParser) : {},\n      cssStyle: background ? this.parseBackground(background) : {}\n    };\n  }\n  parseBackground(elem) {\n    var result = {};\n    var color = xmlUtil.colorAttr(elem, \"color\");\n    if (color) {\n      result[\"background-color\"] = color;\n    }\n    return result;\n  }\n  parseBodyElements(element) {\n    var children = [];\n    for (const elem of globalXmlParser.elements(element)) {\n      switch (elem.localName) {\n        case \"p\":\n          children.push(this.parseParagraph(elem));\n          break;\n        case \"altChunk\":\n          children.push(this.parseAltChunk(elem));\n          break;\n        case \"tbl\":\n          children.push(this.parseTable(elem));\n          break;\n        case \"sdt\":\n          children.push(...this.parseSdt(elem, e => this.parseBodyElements(e)));\n          break;\n      }\n    }\n    return children;\n  }\n  parseStylesFile(xstyles) {\n    var result = [];\n    for (const n of globalXmlParser.elements(xstyles)) {\n      switch (n.localName) {\n        case \"style\":\n          result.push(this.parseStyle(n));\n          break;\n        case \"docDefaults\":\n          result.push(this.parseDefaultStyles(n));\n          break;\n      }\n    }\n    return result;\n  }\n  parseDefaultStyles(node) {\n    var result = {\n      id: null,\n      name: null,\n      target: null,\n      basedOn: null,\n      styles: []\n    };\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"rPrDefault\":\n          var rPr = globalXmlParser.element(c, \"rPr\");\n          if (rPr) result.styles.push({\n            target: \"span\",\n            values: this.parseDefaultProperties(rPr, {})\n          });\n          break;\n        case \"pPrDefault\":\n          var pPr = globalXmlParser.element(c, \"pPr\");\n          if (pPr) result.styles.push({\n            target: \"p\",\n            values: this.parseDefaultProperties(pPr, {})\n          });\n          break;\n      }\n    }\n    return result;\n  }\n  parseStyle(node) {\n    var result = {\n      id: globalXmlParser.attr(node, \"styleId\"),\n      isDefault: globalXmlParser.boolAttr(node, \"default\"),\n      name: null,\n      target: null,\n      basedOn: null,\n      styles: [],\n      linked: null\n    };\n    switch (globalXmlParser.attr(node, \"type\")) {\n      case \"paragraph\":\n        result.target = \"p\";\n        break;\n      case \"table\":\n        result.target = \"table\";\n        break;\n      case \"character\":\n        result.target = \"span\";\n        break;\n    }\n    for (const n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"basedOn\":\n          result.basedOn = globalXmlParser.attr(n, \"val\");\n          break;\n        case \"name\":\n          result.name = globalXmlParser.attr(n, \"val\");\n          break;\n        case \"link\":\n          result.linked = globalXmlParser.attr(n, \"val\");\n          break;\n        case \"next\":\n          result.next = globalXmlParser.attr(n, \"val\");\n          break;\n        case \"aliases\":\n          result.aliases = globalXmlParser.attr(n, \"val\").split(\",\");\n          break;\n        case \"pPr\":\n          result.styles.push({\n            target: \"p\",\n            values: this.parseDefaultProperties(n, {})\n          });\n          result.paragraphProps = parseParagraphProperties(n, globalXmlParser);\n          break;\n        case \"rPr\":\n          result.styles.push({\n            target: \"span\",\n            values: this.parseDefaultProperties(n, {})\n          });\n          result.runProps = parseRunProperties(n, globalXmlParser);\n          break;\n        case \"tblPr\":\n        case \"tcPr\":\n          result.styles.push({\n            target: \"td\",\n            values: this.parseDefaultProperties(n, {})\n          });\n          break;\n        case \"tblStylePr\":\n          for (let s of this.parseTableStyle(n)) result.styles.push(s);\n          break;\n        case \"rsid\":\n        case \"qFormat\":\n        case \"hidden\":\n        case \"semiHidden\":\n        case \"unhideWhenUsed\":\n        case \"autoRedefine\":\n        case \"uiPriority\":\n          break;\n        default:\n          this.options.debug && console.warn(`DOCX: Unknown style element: ${n.localName}`);\n      }\n    }\n    return result;\n  }\n  parseTableStyle(node) {\n    var result = [];\n    var type = globalXmlParser.attr(node, \"type\");\n    var selector = \"\";\n    var modificator = \"\";\n    switch (type) {\n      case \"firstRow\":\n        modificator = \".first-row\";\n        selector = \"tr.first-row td\";\n        break;\n      case \"lastRow\":\n        modificator = \".last-row\";\n        selector = \"tr.last-row td\";\n        break;\n      case \"firstCol\":\n        modificator = \".first-col\";\n        selector = \"td.first-col\";\n        break;\n      case \"lastCol\":\n        modificator = \".last-col\";\n        selector = \"td.last-col\";\n        break;\n      case \"band1Vert\":\n        modificator = \":not(.no-vband)\";\n        selector = \"td.odd-col\";\n        break;\n      case \"band2Vert\":\n        modificator = \":not(.no-vband)\";\n        selector = \"td.even-col\";\n        break;\n      case \"band1Horz\":\n        modificator = \":not(.no-hband)\";\n        selector = \"tr.odd-row\";\n        break;\n      case \"band2Horz\":\n        modificator = \":not(.no-hband)\";\n        selector = \"tr.even-row\";\n        break;\n      default:\n        return [];\n    }\n    for (const n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"pPr\":\n          result.push({\n            target: `${selector} p`,\n            mod: modificator,\n            values: this.parseDefaultProperties(n, {})\n          });\n          break;\n        case \"rPr\":\n          result.push({\n            target: `${selector} span`,\n            mod: modificator,\n            values: this.parseDefaultProperties(n, {})\n          });\n          break;\n        case \"tblPr\":\n        case \"tcPr\":\n          result.push({\n            target: selector,\n            mod: modificator,\n            values: this.parseDefaultProperties(n, {})\n          });\n          break;\n      }\n    }\n    return result;\n  }\n  parseNumberingFile(node) {\n    var result = [];\n    var mapping = {};\n    var bullets = [];\n    for (const n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"abstractNum\":\n          this.parseAbstractNumbering(n, bullets).forEach(x => result.push(x));\n          break;\n        case \"numPicBullet\":\n          bullets.push(this.parseNumberingPicBullet(n));\n          break;\n        case \"num\":\n          var numId = globalXmlParser.attr(n, \"numId\");\n          var abstractNumId = globalXmlParser.elementAttr(n, \"abstractNumId\", \"val\");\n          mapping[abstractNumId] = numId;\n          break;\n      }\n    }\n    result.forEach(x => x.id = mapping[x.id]);\n    return result;\n  }\n  parseNumberingPicBullet(elem) {\n    var pict = globalXmlParser.element(elem, \"pict\");\n    var shape = pict && globalXmlParser.element(pict, \"shape\");\n    var imagedata = shape && globalXmlParser.element(shape, \"imagedata\");\n    return imagedata ? {\n      id: globalXmlParser.intAttr(elem, \"numPicBulletId\"),\n      src: globalXmlParser.attr(imagedata, \"id\"),\n      style: globalXmlParser.attr(shape, \"style\")\n    } : null;\n  }\n  parseAbstractNumbering(node, bullets) {\n    var result = [];\n    var id = globalXmlParser.attr(node, \"abstractNumId\");\n    for (const n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"lvl\":\n          result.push(this.parseNumberingLevel(id, n, bullets));\n          break;\n      }\n    }\n    return result;\n  }\n  parseNumberingLevel(id, node, bullets) {\n    var result = {\n      id: id,\n      level: globalXmlParser.intAttr(node, \"ilvl\"),\n      start: 1,\n      pStyleName: undefined,\n      pStyle: {},\n      rStyle: {},\n      suff: \"tab\"\n    };\n    for (const n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"start\":\n          result.start = globalXmlParser.intAttr(n, \"val\");\n          break;\n        case \"pPr\":\n          this.parseDefaultProperties(n, result.pStyle);\n          break;\n        case \"rPr\":\n          this.parseDefaultProperties(n, result.rStyle);\n          break;\n        case \"lvlPicBulletId\":\n          var bulletId = globalXmlParser.intAttr(n, \"val\");\n          result.bullet = bullets.find(x => x?.id == bulletId);\n          break;\n        case \"lvlText\":\n          result.levelText = globalXmlParser.attr(n, \"val\");\n          break;\n        case \"pStyle\":\n          result.pStyleName = globalXmlParser.attr(n, \"val\");\n          break;\n        case \"numFmt\":\n          result.format = globalXmlParser.attr(n, \"val\");\n          break;\n        case \"suff\":\n          result.suff = globalXmlParser.attr(n, \"val\");\n          break;\n      }\n    }\n    return result;\n  }\n  parseSdt(node, parser) {\n    const sdtContent = globalXmlParser.element(node, \"sdtContent\");\n    return sdtContent ? parser(sdtContent) : [];\n  }\n  parseInserted(node, parentParser) {\n    return {\n      type: DomType.Inserted,\n      children: parentParser(node)?.children ?? []\n    };\n  }\n  parseDeleted(node, parentParser) {\n    return {\n      type: DomType.Deleted,\n      children: parentParser(node)?.children ?? []\n    };\n  }\n  parseAltChunk(node) {\n    return {\n      type: DomType.AltChunk,\n      children: [],\n      id: globalXmlParser.attr(node, \"id\")\n    };\n  }\n  parseParagraph(node) {\n    var result = {\n      type: DomType.Paragraph,\n      children: []\n    };\n    for (let el of globalXmlParser.elements(node)) {\n      switch (el.localName) {\n        case \"pPr\":\n          this.parseParagraphProperties(el, result);\n          break;\n        case \"r\":\n          result.children.push(this.parseRun(el, result));\n          break;\n        case \"hyperlink\":\n          result.children.push(this.parseHyperlink(el, result));\n          break;\n        case \"smartTag\":\n          result.children.push(this.parseSmartTag(el, result));\n          break;\n        case \"bookmarkStart\":\n          result.children.push(parseBookmarkStart(el, globalXmlParser));\n          break;\n        case \"bookmarkEnd\":\n          result.children.push(parseBookmarkEnd(el, globalXmlParser));\n          break;\n        case \"commentRangeStart\":\n          result.children.push(new WmlCommentRangeStart(globalXmlParser.attr(el, \"id\")));\n          break;\n        case \"commentRangeEnd\":\n          result.children.push(new WmlCommentRangeEnd(globalXmlParser.attr(el, \"id\")));\n          break;\n        case \"oMath\":\n        case \"oMathPara\":\n          result.children.push(this.parseMathElement(el));\n          break;\n        case \"sdt\":\n          result.children.push(...this.parseSdt(el, e => this.parseParagraph(e).children));\n          break;\n        case \"ins\":\n          result.children.push(this.parseInserted(el, e => this.parseParagraph(e)));\n          break;\n        case \"del\":\n          result.children.push(this.parseDeleted(el, e => this.parseParagraph(e)));\n          break;\n      }\n    }\n    return result;\n  }\n  parseParagraphProperties(elem, paragraph) {\n    this.parseDefaultProperties(elem, paragraph.cssStyle = {}, null, c => {\n      if (parseParagraphProperty(c, paragraph, globalXmlParser)) return true;\n      switch (c.localName) {\n        case \"pStyle\":\n          paragraph.styleName = globalXmlParser.attr(c, \"val\");\n          break;\n        case \"cnfStyle\":\n          paragraph.className = values.classNameOfCnfStyle(c);\n          break;\n        case \"framePr\":\n          this.parseFrame(c, paragraph);\n          break;\n        case \"rPr\":\n          break;\n        default:\n          return false;\n      }\n      return true;\n    });\n  }\n  parseFrame(node, paragraph) {\n    var dropCap = globalXmlParser.attr(node, \"dropCap\");\n    if (dropCap == \"drop\") paragraph.cssStyle[\"float\"] = \"left\";\n  }\n  parseHyperlink(node, parent) {\n    var result = {\n      type: DomType.Hyperlink,\n      parent: parent,\n      children: []\n    };\n    result.anchor = globalXmlParser.attr(node, \"anchor\");\n    result.id = globalXmlParser.attr(node, \"id\");\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"r\":\n          result.children.push(this.parseRun(c, result));\n          break;\n      }\n    }\n    return result;\n  }\n  parseSmartTag(node, parent) {\n    var result = {\n      type: DomType.SmartTag,\n      parent,\n      children: []\n    };\n    var uri = globalXmlParser.attr(node, \"uri\");\n    var element = globalXmlParser.attr(node, \"element\");\n    if (uri) result.uri = uri;\n    if (element) result.element = element;\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"r\":\n          result.children.push(this.parseRun(c, result));\n          break;\n      }\n    }\n    return result;\n  }\n  parseRun(node, parent) {\n    var result = {\n      type: DomType.Run,\n      parent: parent,\n      children: []\n    };\n    for (let c of globalXmlParser.elements(node)) {\n      c = this.checkAlternateContent(c);\n      switch (c.localName) {\n        case \"t\":\n          result.children.push({\n            type: DomType.Text,\n            text: c.textContent\n          });\n          break;\n        case \"delText\":\n          result.children.push({\n            type: DomType.DeletedText,\n            text: c.textContent\n          });\n          break;\n        case \"commentReference\":\n          result.children.push(new WmlCommentReference(globalXmlParser.attr(c, \"id\")));\n          break;\n        case \"fldSimple\":\n          result.children.push({\n            type: DomType.SimpleField,\n            instruction: globalXmlParser.attr(c, \"instr\"),\n            lock: globalXmlParser.boolAttr(c, \"lock\", false),\n            dirty: globalXmlParser.boolAttr(c, \"dirty\", false)\n          });\n          break;\n        case \"instrText\":\n          result.fieldRun = true;\n          result.children.push({\n            type: DomType.Instruction,\n            text: c.textContent\n          });\n          break;\n        case \"fldChar\":\n          result.fieldRun = true;\n          result.children.push({\n            type: DomType.ComplexField,\n            charType: globalXmlParser.attr(c, \"fldCharType\"),\n            lock: globalXmlParser.boolAttr(c, \"lock\", false),\n            dirty: globalXmlParser.boolAttr(c, \"dirty\", false)\n          });\n          break;\n        case \"noBreakHyphen\":\n          result.children.push({\n            type: DomType.NoBreakHyphen\n          });\n          break;\n        case \"br\":\n          result.children.push({\n            type: DomType.Break,\n            break: globalXmlParser.attr(c, \"type\") || \"textWrapping\"\n          });\n          break;\n        case \"lastRenderedPageBreak\":\n          result.children.push({\n            type: DomType.Break,\n            break: \"lastRenderedPageBreak\"\n          });\n          break;\n        case \"sym\":\n          result.children.push({\n            type: DomType.Symbol,\n            font: encloseFontFamily(globalXmlParser.attr(c, \"font\")),\n            char: globalXmlParser.attr(c, \"char\")\n          });\n          break;\n        case \"tab\":\n          result.children.push({\n            type: DomType.Tab\n          });\n          break;\n        case \"footnoteReference\":\n          result.children.push({\n            type: DomType.FootnoteReference,\n            id: globalXmlParser.attr(c, \"id\")\n          });\n          break;\n        case \"endnoteReference\":\n          result.children.push({\n            type: DomType.EndnoteReference,\n            id: globalXmlParser.attr(c, \"id\")\n          });\n          break;\n        case \"drawing\":\n          let d = this.parseDrawing(c);\n          if (d) result.children = [d];\n          break;\n        case \"pict\":\n          result.children.push(this.parseVmlPicture(c));\n          break;\n        case \"rPr\":\n          this.parseRunProperties(c, result);\n          break;\n      }\n    }\n    return result;\n  }\n  parseMathElement(elem) {\n    const propsTag = `${elem.localName}Pr`;\n    const result = {\n      type: mmlTagMap[elem.localName],\n      children: []\n    };\n    for (const el of globalXmlParser.elements(elem)) {\n      const childType = mmlTagMap[el.localName];\n      if (childType) {\n        result.children.push(this.parseMathElement(el));\n      } else if (el.localName == \"r\") {\n        var run = this.parseRun(el);\n        run.type = DomType.MmlRun;\n        result.children.push(run);\n      } else if (el.localName == propsTag) {\n        result.props = this.parseMathProperies(el);\n      }\n    }\n    return result;\n  }\n  parseMathProperies(elem) {\n    const result = {};\n    for (const el of globalXmlParser.elements(elem)) {\n      switch (el.localName) {\n        case \"chr\":\n          result.char = globalXmlParser.attr(el, \"val\");\n          break;\n        case \"vertJc\":\n          result.verticalJustification = globalXmlParser.attr(el, \"val\");\n          break;\n        case \"pos\":\n          result.position = globalXmlParser.attr(el, \"val\");\n          break;\n        case \"degHide\":\n          result.hideDegree = globalXmlParser.boolAttr(el, \"val\");\n          break;\n        case \"begChr\":\n          result.beginChar = globalXmlParser.attr(el, \"val\");\n          break;\n        case \"endChr\":\n          result.endChar = globalXmlParser.attr(el, \"val\");\n          break;\n      }\n    }\n    return result;\n  }\n  parseRunProperties(elem, run) {\n    this.parseDefaultProperties(elem, run.cssStyle = {}, null, c => {\n      switch (c.localName) {\n        case \"rStyle\":\n          run.styleName = globalXmlParser.attr(c, \"val\");\n          break;\n        case \"vertAlign\":\n          run.verticalAlign = values.valueOfVertAlign(c, true);\n          break;\n        default:\n          return false;\n      }\n      return true;\n    });\n  }\n  parseVmlPicture(elem) {\n    const result = {\n      type: DomType.VmlPicture,\n      children: []\n    };\n    for (const el of globalXmlParser.elements(elem)) {\n      const child = parseVmlElement(el, this);\n      child && result.children.push(child);\n    }\n    return result;\n  }\n  checkAlternateContent(elem) {\n    if (elem.localName != 'AlternateContent') return elem;\n    var choice = globalXmlParser.element(elem, \"Choice\");\n    if (choice) {\n      var requires = globalXmlParser.attr(choice, \"Requires\");\n      var namespaceURI = elem.lookupNamespaceURI(requires);\n      if (supportedNamespaceURIs.includes(namespaceURI)) return choice.firstElementChild;\n    }\n    return globalXmlParser.element(elem, \"Fallback\")?.firstElementChild;\n  }\n  parseDrawing(node) {\n    for (var n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"inline\":\n        case \"anchor\":\n          return this.parseDrawingWrapper(n);\n      }\n    }\n  }\n  parseDrawingWrapper(node) {\n    var result = {\n      type: DomType.Drawing,\n      children: [],\n      cssStyle: {}\n    };\n    var isAnchor = node.localName == \"anchor\";\n    let wrapType = null;\n    let simplePos = globalXmlParser.boolAttr(node, \"simplePos\");\n    globalXmlParser.boolAttr(node, \"behindDoc\");\n    let posX = {\n      relative: \"page\",\n      align: \"left\",\n      offset: \"0\"\n    };\n    let posY = {\n      relative: \"page\",\n      align: \"top\",\n      offset: \"0\"\n    };\n    for (var n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"simplePos\":\n          if (simplePos) {\n            posX.offset = globalXmlParser.lengthAttr(n, \"x\", LengthUsage.Emu);\n            posY.offset = globalXmlParser.lengthAttr(n, \"y\", LengthUsage.Emu);\n          }\n          break;\n        case \"extent\":\n          result.cssStyle[\"width\"] = globalXmlParser.lengthAttr(n, \"cx\", LengthUsage.Emu);\n          result.cssStyle[\"height\"] = globalXmlParser.lengthAttr(n, \"cy\", LengthUsage.Emu);\n          break;\n        case \"positionH\":\n        case \"positionV\":\n          if (!simplePos) {\n            let pos = n.localName == \"positionH\" ? posX : posY;\n            var alignNode = globalXmlParser.element(n, \"align\");\n            var offsetNode = globalXmlParser.element(n, \"posOffset\");\n            pos.relative = globalXmlParser.attr(n, \"relativeFrom\") ?? pos.relative;\n            if (alignNode) pos.align = alignNode.textContent;\n            if (offsetNode) pos.offset = convertLength(offsetNode.textContent, LengthUsage.Emu);\n          }\n          break;\n        case \"wrapTopAndBottom\":\n          wrapType = \"wrapTopAndBottom\";\n          break;\n        case \"wrapNone\":\n          wrapType = \"wrapNone\";\n          break;\n        case \"graphic\":\n          var g = this.parseGraphic(n);\n          if (g) result.children.push(g);\n          break;\n      }\n    }\n    if (wrapType == \"wrapTopAndBottom\") {\n      result.cssStyle['display'] = 'block';\n      if (posX.align) {\n        result.cssStyle['text-align'] = posX.align;\n        result.cssStyle['width'] = \"100%\";\n      }\n    } else if (wrapType == \"wrapNone\") {\n      result.cssStyle['display'] = 'block';\n      result.cssStyle['position'] = 'relative';\n      result.cssStyle[\"width\"] = \"0px\";\n      result.cssStyle[\"height\"] = \"0px\";\n      if (posX.offset) result.cssStyle[\"left\"] = posX.offset;\n      if (posY.offset) result.cssStyle[\"top\"] = posY.offset;\n    } else if (isAnchor && (posX.align == 'left' || posX.align == 'right')) {\n      result.cssStyle[\"float\"] = posX.align;\n    }\n    return result;\n  }\n  parseGraphic(elem) {\n    var graphicData = globalXmlParser.element(elem, \"graphicData\");\n    for (let n of globalXmlParser.elements(graphicData)) {\n      switch (n.localName) {\n        case \"pic\":\n          return this.parsePicture(n);\n      }\n    }\n    return null;\n  }\n  parsePicture(elem) {\n    var result = {\n      type: DomType.Image,\n      src: \"\",\n      cssStyle: {}\n    };\n    var blipFill = globalXmlParser.element(elem, \"blipFill\");\n    var blip = globalXmlParser.element(blipFill, \"blip\");\n    var srcRect = globalXmlParser.element(blipFill, \"srcRect\");\n    result.src = globalXmlParser.attr(blip, \"embed\");\n    if (srcRect) {\n      result.srcRect = [globalXmlParser.intAttr(srcRect, \"l\", 0) / 100000, globalXmlParser.intAttr(srcRect, \"t\", 0) / 100000, globalXmlParser.intAttr(srcRect, \"r\", 0) / 100000, globalXmlParser.intAttr(srcRect, \"b\", 0) / 100000];\n    }\n    var spPr = globalXmlParser.element(elem, \"spPr\");\n    var xfrm = globalXmlParser.element(spPr, \"xfrm\");\n    result.cssStyle[\"position\"] = \"relative\";\n    if (xfrm) {\n      result.rotation = globalXmlParser.intAttr(xfrm, \"rot\", 0) / 60000;\n      for (var n of globalXmlParser.elements(xfrm)) {\n        switch (n.localName) {\n          case \"ext\":\n            result.cssStyle[\"width\"] = globalXmlParser.lengthAttr(n, \"cx\", LengthUsage.Emu);\n            result.cssStyle[\"height\"] = globalXmlParser.lengthAttr(n, \"cy\", LengthUsage.Emu);\n            break;\n          case \"off\":\n            result.cssStyle[\"left\"] = globalXmlParser.lengthAttr(n, \"x\", LengthUsage.Emu);\n            result.cssStyle[\"top\"] = globalXmlParser.lengthAttr(n, \"y\", LengthUsage.Emu);\n            break;\n        }\n      }\n    }\n    return result;\n  }\n  parseTable(node) {\n    var result = {\n      type: DomType.Table,\n      children: []\n    };\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"tr\":\n          result.children.push(this.parseTableRow(c));\n          break;\n        case \"tblGrid\":\n          result.columns = this.parseTableColumns(c);\n          break;\n        case \"tblPr\":\n          this.parseTableProperties(c, result);\n          break;\n      }\n    }\n    return result;\n  }\n  parseTableColumns(node) {\n    var result = [];\n    for (const n of globalXmlParser.elements(node)) {\n      switch (n.localName) {\n        case \"gridCol\":\n          result.push({\n            width: globalXmlParser.lengthAttr(n, \"w\")\n          });\n          break;\n      }\n    }\n    return result;\n  }\n  parseTableProperties(elem, table) {\n    table.cssStyle = {};\n    table.cellStyle = {};\n    this.parseDefaultProperties(elem, table.cssStyle, table.cellStyle, c => {\n      switch (c.localName) {\n        case \"tblStyle\":\n          table.styleName = globalXmlParser.attr(c, \"val\");\n          break;\n        case \"tblLook\":\n          table.className = values.classNameOftblLook(c);\n          break;\n        case \"tblpPr\":\n          this.parseTablePosition(c, table);\n          break;\n        case \"tblStyleColBandSize\":\n          table.colBandSize = globalXmlParser.intAttr(c, \"val\");\n          break;\n        case \"tblStyleRowBandSize\":\n          table.rowBandSize = globalXmlParser.intAttr(c, \"val\");\n          break;\n        case \"hidden\":\n          table.cssStyle[\"display\"] = \"none\";\n          break;\n        default:\n          return false;\n      }\n      return true;\n    });\n    switch (table.cssStyle[\"text-align\"]) {\n      case \"center\":\n        delete table.cssStyle[\"text-align\"];\n        table.cssStyle[\"margin-left\"] = \"auto\";\n        table.cssStyle[\"margin-right\"] = \"auto\";\n        break;\n      case \"right\":\n        delete table.cssStyle[\"text-align\"];\n        table.cssStyle[\"margin-left\"] = \"auto\";\n        break;\n    }\n  }\n  parseTablePosition(node, table) {\n    var topFromText = globalXmlParser.lengthAttr(node, \"topFromText\");\n    var bottomFromText = globalXmlParser.lengthAttr(node, \"bottomFromText\");\n    var rightFromText = globalXmlParser.lengthAttr(node, \"rightFromText\");\n    var leftFromText = globalXmlParser.lengthAttr(node, \"leftFromText\");\n    table.cssStyle[\"float\"] = 'left';\n    table.cssStyle[\"margin-bottom\"] = values.addSize(table.cssStyle[\"margin-bottom\"], bottomFromText);\n    table.cssStyle[\"margin-left\"] = values.addSize(table.cssStyle[\"margin-left\"], leftFromText);\n    table.cssStyle[\"margin-right\"] = values.addSize(table.cssStyle[\"margin-right\"], rightFromText);\n    table.cssStyle[\"margin-top\"] = values.addSize(table.cssStyle[\"margin-top\"], topFromText);\n  }\n  parseTableRow(node) {\n    var result = {\n      type: DomType.Row,\n      children: []\n    };\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"tc\":\n          result.children.push(this.parseTableCell(c));\n          break;\n        case \"trPr\":\n        case \"tblPrEx\":\n          this.parseTableRowProperties(c, result);\n          break;\n      }\n    }\n    return result;\n  }\n  parseTableRowProperties(elem, row) {\n    row.cssStyle = this.parseDefaultProperties(elem, {}, null, c => {\n      switch (c.localName) {\n        case \"cnfStyle\":\n          row.className = values.classNameOfCnfStyle(c);\n          break;\n        case \"tblHeader\":\n          row.isHeader = globalXmlParser.boolAttr(c, \"val\");\n          break;\n        case \"gridBefore\":\n          row.gridBefore = globalXmlParser.intAttr(c, \"val\");\n          break;\n        case \"gridAfter\":\n          row.gridAfter = globalXmlParser.intAttr(c, \"val\");\n          break;\n        default:\n          return false;\n      }\n      return true;\n    });\n  }\n  parseTableCell(node) {\n    var result = {\n      type: DomType.Cell,\n      children: []\n    };\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"tbl\":\n          result.children.push(this.parseTable(c));\n          break;\n        case \"p\":\n          result.children.push(this.parseParagraph(c));\n          break;\n        case \"tcPr\":\n          this.parseTableCellProperties(c, result);\n          break;\n      }\n    }\n    return result;\n  }\n  parseTableCellProperties(elem, cell) {\n    cell.cssStyle = this.parseDefaultProperties(elem, {}, null, c => {\n      switch (c.localName) {\n        case \"gridSpan\":\n          cell.span = globalXmlParser.intAttr(c, \"val\", null);\n          break;\n        case \"vMerge\":\n          cell.verticalMerge = globalXmlParser.attr(c, \"val\") ?? \"continue\";\n          break;\n        case \"cnfStyle\":\n          cell.className = values.classNameOfCnfStyle(c);\n          break;\n        default:\n          return false;\n      }\n      return true;\n    });\n    this.parseTableCellVerticalText(elem, cell);\n  }\n  parseTableCellVerticalText(elem, cell) {\n    const directionMap = {\n      \"btLr\": {\n        writingMode: \"vertical-rl\",\n        transform: \"rotate(180deg)\"\n      },\n      \"lrTb\": {\n        writingMode: \"vertical-lr\",\n        transform: \"none\"\n      },\n      \"tbRl\": {\n        writingMode: \"vertical-rl\",\n        transform: \"none\"\n      }\n    };\n    for (const c of globalXmlParser.elements(elem)) {\n      if (c.localName === \"textDirection\") {\n        const direction = globalXmlParser.attr(c, \"val\");\n        const style = directionMap[direction] || {\n          writingMode: \"horizontal-tb\"\n        };\n        cell.cssStyle[\"writing-mode\"] = style.writingMode;\n        cell.cssStyle[\"transform\"] = style.transform;\n      }\n    }\n  }\n  parseDefaultProperties(elem, style = null, childStyle = null, handler = null) {\n    style = style || {};\n    for (const c of globalXmlParser.elements(elem)) {\n      if (handler?.(c)) continue;\n      switch (c.localName) {\n        case \"jc\":\n          style[\"text-align\"] = values.valueOfJc(c);\n          break;\n        case \"textAlignment\":\n          style[\"vertical-align\"] = values.valueOfTextAlignment(c);\n          break;\n        case \"color\":\n          style[\"color\"] = xmlUtil.colorAttr(c, \"val\", null, autos.color);\n          break;\n        case \"sz\":\n          style[\"font-size\"] = style[\"min-height\"] = globalXmlParser.lengthAttr(c, \"val\", LengthUsage.FontSize);\n          break;\n        case \"shd\":\n          style[\"background-color\"] = xmlUtil.colorAttr(c, \"fill\", null, autos.shd);\n          break;\n        case \"highlight\":\n          style[\"background-color\"] = xmlUtil.colorAttr(c, \"val\", null, autos.highlight);\n          break;\n        case \"vertAlign\":\n          break;\n        case \"position\":\n          style.verticalAlign = globalXmlParser.lengthAttr(c, \"val\", LengthUsage.FontSize);\n          break;\n        case \"tcW\":\n          if (this.options.ignoreWidth) break;\n        case \"tblW\":\n          style[\"width\"] = values.valueOfSize(c, \"w\");\n          break;\n        case \"trHeight\":\n          this.parseTrHeight(c, style);\n          break;\n        case \"strike\":\n          style[\"text-decoration\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"line-through\" : \"none\";\n          break;\n        case \"b\":\n          style[\"font-weight\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"bold\" : \"normal\";\n          break;\n        case \"i\":\n          style[\"font-style\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"italic\" : \"normal\";\n          break;\n        case \"caps\":\n          style[\"text-transform\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"uppercase\" : \"none\";\n          break;\n        case \"smallCaps\":\n          style[\"font-variant\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"small-caps\" : \"none\";\n          break;\n        case \"u\":\n          this.parseUnderline(c, style);\n          break;\n        case \"ind\":\n        case \"tblInd\":\n          this.parseIndentation(c, style);\n          break;\n        case \"rFonts\":\n          this.parseFont(c, style);\n          break;\n        case \"tblBorders\":\n          this.parseBorderProperties(c, childStyle || style);\n          break;\n        case \"tblCellSpacing\":\n          style[\"border-spacing\"] = values.valueOfMargin(c);\n          style[\"border-collapse\"] = \"separate\";\n          break;\n        case \"pBdr\":\n          this.parseBorderProperties(c, style);\n          break;\n        case \"bdr\":\n          style[\"border\"] = values.valueOfBorder(c);\n          break;\n        case \"tcBorders\":\n          this.parseBorderProperties(c, style);\n          break;\n        case \"vanish\":\n          if (globalXmlParser.boolAttr(c, \"val\", true)) style[\"display\"] = \"none\";\n          break;\n        case \"kern\":\n          break;\n        case \"noWrap\":\n          break;\n        case \"tblCellMar\":\n        case \"tcMar\":\n          this.parseMarginProperties(c, childStyle || style);\n          break;\n        case \"tblLayout\":\n          style[\"table-layout\"] = values.valueOfTblLayout(c);\n          break;\n        case \"vAlign\":\n          style[\"vertical-align\"] = values.valueOfTextAlignment(c);\n          break;\n        case \"spacing\":\n          if (elem.localName == \"pPr\") this.parseSpacing(c, style);\n          break;\n        case \"wordWrap\":\n          if (globalXmlParser.boolAttr(c, \"val\")) style[\"overflow-wrap\"] = \"break-word\";\n          break;\n        case \"suppressAutoHyphens\":\n          style[\"hyphens\"] = globalXmlParser.boolAttr(c, \"val\", true) ? \"none\" : \"auto\";\n          break;\n        case \"lang\":\n          style[\"$lang\"] = globalXmlParser.attr(c, \"val\");\n          break;\n        case \"rtl\":\n        case \"bidi\":\n          if (globalXmlParser.boolAttr(c, \"val\", true)) style[\"direction\"] = \"rtl\";\n          break;\n        case \"bCs\":\n        case \"iCs\":\n        case \"szCs\":\n        case \"tabs\":\n        case \"outlineLvl\":\n        case \"contextualSpacing\":\n        case \"tblStyleColBandSize\":\n        case \"tblStyleRowBandSize\":\n        case \"webHidden\":\n        case \"pageBreakBefore\":\n        case \"suppressLineNumbers\":\n        case \"keepLines\":\n        case \"keepNext\":\n        case \"widowControl\":\n        case \"bidi\":\n        case \"rtl\":\n        case \"noProof\":\n          break;\n        default:\n          if (this.options.debug) console.warn(`DOCX: Unknown document element: ${elem.localName}.${c.localName}`);\n          break;\n      }\n    }\n    return style;\n  }\n  parseUnderline(node, style) {\n    var val = globalXmlParser.attr(node, \"val\");\n    if (val == null) return;\n    switch (val) {\n      case \"dash\":\n      case \"dashDotDotHeavy\":\n      case \"dashDotHeavy\":\n      case \"dashedHeavy\":\n      case \"dashLong\":\n      case \"dashLongHeavy\":\n      case \"dotDash\":\n      case \"dotDotDash\":\n        style[\"text-decoration\"] = \"underline dashed\";\n        break;\n      case \"dotted\":\n      case \"dottedHeavy\":\n        style[\"text-decoration\"] = \"underline dotted\";\n        break;\n      case \"double\":\n        style[\"text-decoration\"] = \"underline double\";\n        break;\n      case \"single\":\n      case \"thick\":\n        style[\"text-decoration\"] = \"underline\";\n        break;\n      case \"wave\":\n      case \"wavyDouble\":\n      case \"wavyHeavy\":\n        style[\"text-decoration\"] = \"underline wavy\";\n        break;\n      case \"words\":\n        style[\"text-decoration\"] = \"underline\";\n        break;\n      case \"none\":\n        style[\"text-decoration\"] = \"none\";\n        break;\n    }\n    var col = xmlUtil.colorAttr(node, \"color\");\n    if (col) style[\"text-decoration-color\"] = col;\n  }\n  parseFont(node, style) {\n    var ascii = globalXmlParser.attr(node, \"ascii\");\n    var asciiTheme = values.themeValue(node, \"asciiTheme\");\n    var eastAsia = globalXmlParser.attr(node, \"eastAsia\");\n    var fonts = [ascii, asciiTheme, eastAsia].filter(x => x).map(x => encloseFontFamily(x));\n    if (fonts.length > 0) style[\"font-family\"] = [...new Set(fonts)].join(', ');\n  }\n  parseIndentation(node, style) {\n    var firstLine = globalXmlParser.lengthAttr(node, \"firstLine\");\n    var hanging = globalXmlParser.lengthAttr(node, \"hanging\");\n    var left = globalXmlParser.lengthAttr(node, \"left\");\n    var start = globalXmlParser.lengthAttr(node, \"start\");\n    var right = globalXmlParser.lengthAttr(node, \"right\");\n    var end = globalXmlParser.lengthAttr(node, \"end\");\n    if (firstLine) style[\"text-indent\"] = firstLine;\n    if (hanging) style[\"text-indent\"] = `-${hanging}`;\n    if (left || start) style[\"margin-inline-start\"] = left || start;\n    if (right || end) style[\"margin-inline-end\"] = right || end;\n  }\n  parseSpacing(node, style) {\n    var before = globalXmlParser.lengthAttr(node, \"before\");\n    var after = globalXmlParser.lengthAttr(node, \"after\");\n    var line = globalXmlParser.intAttr(node, \"line\", null);\n    var lineRule = globalXmlParser.attr(node, \"lineRule\");\n    if (before) style[\"margin-top\"] = before;\n    if (after) style[\"margin-bottom\"] = after;\n    if (line !== null) {\n      switch (lineRule) {\n        case \"auto\":\n          style[\"line-height\"] = `${(line / 240).toFixed(2)}`;\n          break;\n        case \"atLeast\":\n          style[\"line-height\"] = `calc(100% + ${line / 20}pt)`;\n          break;\n        default:\n          style[\"line-height\"] = style[\"min-height\"] = `${line / 20}pt`;\n          break;\n      }\n    }\n  }\n  parseMarginProperties(node, output) {\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"left\":\n          output[\"padding-left\"] = values.valueOfMargin(c);\n          break;\n        case \"right\":\n          output[\"padding-right\"] = values.valueOfMargin(c);\n          break;\n        case \"top\":\n          output[\"padding-top\"] = values.valueOfMargin(c);\n          break;\n        case \"bottom\":\n          output[\"padding-bottom\"] = values.valueOfMargin(c);\n          break;\n      }\n    }\n  }\n  parseTrHeight(node, output) {\n    switch (globalXmlParser.attr(node, \"hRule\")) {\n      case \"exact\":\n        output[\"height\"] = globalXmlParser.lengthAttr(node, \"val\");\n        break;\n      case \"atLeast\":\n      default:\n        output[\"height\"] = globalXmlParser.lengthAttr(node, \"val\");\n        break;\n    }\n  }\n  parseBorderProperties(node, output) {\n    for (const c of globalXmlParser.elements(node)) {\n      switch (c.localName) {\n        case \"start\":\n        case \"left\":\n          output[\"border-left\"] = values.valueOfBorder(c);\n          break;\n        case \"end\":\n        case \"right\":\n          output[\"border-right\"] = values.valueOfBorder(c);\n          break;\n        case \"top\":\n          output[\"border-top\"] = values.valueOfBorder(c);\n          break;\n        case \"bottom\":\n          output[\"border-bottom\"] = values.valueOfBorder(c);\n          break;\n      }\n    }\n  }\n}\nconst knownColors = ['black', 'blue', 'cyan', 'darkBlue', 'darkCyan', 'darkGray', 'darkGreen', 'darkMagenta', 'darkRed', 'darkYellow', 'green', 'lightGray', 'magenta', 'none', 'red', 'white', 'yellow'];\nclass xmlUtil {\n  static colorAttr(node, attrName, defValue = null, autoColor = 'black') {\n    var v = globalXmlParser.attr(node, attrName);\n    if (v) {\n      if (v == \"auto\") {\n        return autoColor;\n      } else if (knownColors.includes(v)) {\n        return v;\n      }\n      return `#${v}`;\n    }\n    var themeColor = globalXmlParser.attr(node, \"themeColor\");\n    return themeColor ? `var(--docx-${themeColor}-color)` : defValue;\n  }\n}\nclass values {\n  static themeValue(c, attr) {\n    var val = globalXmlParser.attr(c, attr);\n    return val ? `var(--docx-${val}-font)` : null;\n  }\n  static valueOfSize(c, attr) {\n    var type = LengthUsage.Dxa;\n    switch (globalXmlParser.attr(c, \"type\")) {\n      case \"dxa\":\n        break;\n      case \"pct\":\n        type = LengthUsage.Percent;\n        break;\n      case \"auto\":\n        return \"auto\";\n    }\n    return globalXmlParser.lengthAttr(c, attr, type);\n  }\n  static valueOfMargin(c) {\n    return globalXmlParser.lengthAttr(c, \"w\");\n  }\n  static valueOfBorder(c) {\n    var type = values.parseBorderType(globalXmlParser.attr(c, \"val\"));\n    if (type == \"none\") return \"none\";\n    var color = xmlUtil.colorAttr(c, \"color\");\n    var size = globalXmlParser.lengthAttr(c, \"sz\", LengthUsage.Border);\n    return `${size} ${type} ${color == \"auto\" ? autos.borderColor : color}`;\n  }\n  static parseBorderType(type) {\n    switch (type) {\n      case \"single\":\n        return \"solid\";\n      case \"dashDotStroked\":\n        return \"solid\";\n      case \"dashed\":\n        return \"dashed\";\n      case \"dashSmallGap\":\n        return \"dashed\";\n      case \"dotDash\":\n        return \"dotted\";\n      case \"dotDotDash\":\n        return \"dotted\";\n      case \"dotted\":\n        return \"dotted\";\n      case \"double\":\n        return \"double\";\n      case \"doubleWave\":\n        return \"double\";\n      case \"inset\":\n        return \"inset\";\n      case \"nil\":\n        return \"none\";\n      case \"none\":\n        return \"none\";\n      case \"outset\":\n        return \"outset\";\n      case \"thick\":\n        return \"solid\";\n      case \"thickThinLargeGap\":\n        return \"solid\";\n      case \"thickThinMediumGap\":\n        return \"solid\";\n      case \"thickThinSmallGap\":\n        return \"solid\";\n      case \"thinThickLargeGap\":\n        return \"solid\";\n      case \"thinThickMediumGap\":\n        return \"solid\";\n      case \"thinThickSmallGap\":\n        return \"solid\";\n      case \"thinThickThinLargeGap\":\n        return \"solid\";\n      case \"thinThickThinMediumGap\":\n        return \"solid\";\n      case \"thinThickThinSmallGap\":\n        return \"solid\";\n      case \"threeDEmboss\":\n        return \"solid\";\n      case \"threeDEngrave\":\n        return \"solid\";\n      case \"triple\":\n        return \"double\";\n      case \"wave\":\n        return \"solid\";\n    }\n    return 'solid';\n  }\n  static valueOfTblLayout(c) {\n    var type = globalXmlParser.attr(c, \"val\");\n    return type == \"fixed\" ? \"fixed\" : \"auto\";\n  }\n  static classNameOfCnfStyle(c) {\n    const val = globalXmlParser.attr(c, \"val\");\n    const classes = ['first-row', 'last-row', 'first-col', 'last-col', 'odd-col', 'even-col', 'odd-row', 'even-row', 'ne-cell', 'nw-cell', 'se-cell', 'sw-cell'];\n    return classes.filter((_, i) => val[i] == '1').join(' ');\n  }\n  static valueOfJc(c) {\n    var type = globalXmlParser.attr(c, \"val\");\n    switch (type) {\n      case \"start\":\n      case \"left\":\n        return \"left\";\n      case \"center\":\n        return \"center\";\n      case \"end\":\n      case \"right\":\n        return \"right\";\n      case \"both\":\n        return \"justify\";\n    }\n    return type;\n  }\n  static valueOfVertAlign(c, asTagName = false) {\n    var type = globalXmlParser.attr(c, \"val\");\n    switch (type) {\n      case \"subscript\":\n        return \"sub\";\n      case \"superscript\":\n        return asTagName ? \"sup\" : \"super\";\n    }\n    return asTagName ? null : type;\n  }\n  static valueOfTextAlignment(c) {\n    var type = globalXmlParser.attr(c, \"val\");\n    switch (type) {\n      case \"auto\":\n      case \"baseline\":\n        return \"baseline\";\n      case \"top\":\n        return \"top\";\n      case \"center\":\n        return \"middle\";\n      case \"bottom\":\n        return \"bottom\";\n    }\n    return type;\n  }\n  static addSize(a, b) {\n    if (a == null) return b;\n    if (b == null) return a;\n    return `calc(${a} + ${b})`;\n  }\n  static classNameOftblLook(c) {\n    const val = globalXmlParser.hexAttr(c, \"val\", 0);\n    let className = \"\";\n    if (globalXmlParser.boolAttr(c, \"firstRow\") || val & 0x0020) className += \" first-row\";\n    if (globalXmlParser.boolAttr(c, \"lastRow\") || val & 0x0040) className += \" last-row\";\n    if (globalXmlParser.boolAttr(c, \"firstColumn\") || val & 0x0080) className += \" first-col\";\n    if (globalXmlParser.boolAttr(c, \"lastColumn\") || val & 0x0100) className += \" last-col\";\n    if (globalXmlParser.boolAttr(c, \"noHBand\") || val & 0x0200) className += \" no-hband\";\n    if (globalXmlParser.boolAttr(c, \"noVBand\") || val & 0x0400) className += \" no-vband\";\n    return className.trim();\n  }\n}\nconst defaultTab = {\n  pos: 0,\n  leader: \"none\",\n  style: \"left\"\n};\nconst maxTabs = 50;\nfunction computePixelToPoint(container = document.body) {\n  const temp = document.createElement(\"div\");\n  temp.style.width = '100pt';\n  container.appendChild(temp);\n  const result = 100 / temp.offsetWidth;\n  container.removeChild(temp);\n  return result;\n}\nfunction updateTabStop(elem, tabs, defaultTabSize, pixelToPoint = 72 / 96) {\n  const p = elem.closest(\"p\");\n  const ebb = elem.getBoundingClientRect();\n  const pbb = p.getBoundingClientRect();\n  const pcs = getComputedStyle(p);\n  const tabStops = tabs?.length > 0 ? tabs.map(t => ({\n    pos: lengthToPoint(t.position),\n    leader: t.leader,\n    style: t.style\n  })).sort((a, b) => a.pos - b.pos) : [defaultTab];\n  const lastTab = tabStops[tabStops.length - 1];\n  const pWidthPt = pbb.width * pixelToPoint;\n  const size = lengthToPoint(defaultTabSize);\n  let pos = lastTab.pos + size;\n  if (pos < pWidthPt) {\n    for (; pos < pWidthPt && tabStops.length < maxTabs; pos += size) {\n      tabStops.push({\n        ...defaultTab,\n        pos: pos\n      });\n    }\n  }\n  const marginLeft = parseFloat(pcs.marginLeft);\n  const pOffset = pbb.left + marginLeft;\n  const left = (ebb.left - pOffset) * pixelToPoint;\n  const tab = tabStops.find(t => t.style != \"clear\" && t.pos > left);\n  if (tab == null) return;\n  let width = 1;\n  if (tab.style == \"right\" || tab.style == \"center\") {\n    const tabStops = Array.from(p.querySelectorAll(`.${elem.className}`));\n    const nextIdx = tabStops.indexOf(elem) + 1;\n    const range = document.createRange();\n    range.setStart(elem, 1);\n    if (nextIdx < tabStops.length) {\n      range.setEndBefore(tabStops[nextIdx]);\n    } else {\n      range.setEndAfter(p);\n    }\n    const mul = tab.style == \"center\" ? 0.5 : 1;\n    const nextBB = range.getBoundingClientRect();\n    const offset = nextBB.left + mul * nextBB.width - (pbb.left - marginLeft);\n    width = tab.pos - offset * pixelToPoint;\n  } else {\n    width = tab.pos - left;\n  }\n  elem.innerHTML = \"&nbsp;\";\n  elem.style.textDecoration = \"inherit\";\n  elem.style.wordSpacing = `${width.toFixed(0)}pt`;\n  switch (tab.leader) {\n    case \"dot\":\n    case \"middleDot\":\n      elem.style.textDecoration = \"underline\";\n      elem.style.textDecorationStyle = \"dotted\";\n      break;\n    case \"hyphen\":\n    case \"heavy\":\n    case \"underscore\":\n      elem.style.textDecoration = \"underline\";\n      break;\n  }\n}\nfunction lengthToPoint(length) {\n  return parseFloat(length);\n}\nconst ns = {\n  svg: \"http://www.w3.org/2000/svg\",\n  mathML: \"http://www.w3.org/1998/Math/MathML\"\n};\nclass HtmlRenderer {\n  constructor(htmlDocument) {\n    this.htmlDocument = htmlDocument;\n    this.className = \"docx\";\n    this.styleMap = {};\n    this.currentPart = null;\n    this.tableVerticalMerges = [];\n    this.currentVerticalMerge = null;\n    this.tableCellPositions = [];\n    this.currentCellPosition = null;\n    this.footnoteMap = {};\n    this.endnoteMap = {};\n    this.currentEndnoteIds = [];\n    this.usedHederFooterParts = [];\n    this.currentTabs = [];\n    this.commentMap = {};\n    this.tasks = [];\n    this.postRenderTasks = [];\n  }\n  async render(document, bodyContainer, styleContainer = null, options) {\n    this.document = document;\n    this.options = options;\n    this.className = options.className;\n    this.rootSelector = options.inWrapper ? `.${this.className}-wrapper` : ':root';\n    this.styleMap = null;\n    this.tasks = [];\n    if (this.options.renderComments && globalThis.Highlight) {\n      this.commentHighlight = new Highlight();\n    }\n    styleContainer = styleContainer || bodyContainer;\n    removeAllElements(styleContainer);\n    removeAllElements(bodyContainer);\n    styleContainer.appendChild(this.createComment(\"docxjs library predefined styles\"));\n    styleContainer.appendChild(this.renderDefaultStyle());\n    if (document.themePart) {\n      styleContainer.appendChild(this.createComment(\"docxjs document theme values\"));\n      this.renderTheme(document.themePart, styleContainer);\n    }\n    if (document.stylesPart != null) {\n      this.styleMap = this.processStyles(document.stylesPart.styles);\n      styleContainer.appendChild(this.createComment(\"docxjs document styles\"));\n      styleContainer.appendChild(this.renderStyles(document.stylesPart.styles));\n    }\n    if (document.numberingPart) {\n      this.prodessNumberings(document.numberingPart.domNumberings);\n      styleContainer.appendChild(this.createComment(\"docxjs document numbering styles\"));\n      styleContainer.appendChild(this.renderNumbering(document.numberingPart.domNumberings, styleContainer));\n    }\n    if (document.footnotesPart) {\n      this.footnoteMap = keyBy(document.footnotesPart.notes, x => x.id);\n    }\n    if (document.endnotesPart) {\n      this.endnoteMap = keyBy(document.endnotesPart.notes, x => x.id);\n    }\n    if (document.settingsPart) {\n      this.defaultTabSize = document.settingsPart.settings?.defaultTabStop;\n    }\n    if (!options.ignoreFonts && document.fontTablePart) this.renderFontTable(document.fontTablePart, styleContainer);\n    var sectionElements = this.renderSections(document.documentPart.body);\n    if (this.options.inWrapper) {\n      bodyContainer.appendChild(this.renderWrapper(sectionElements));\n    } else {\n      appendChildren(bodyContainer, sectionElements);\n    }\n    if (this.commentHighlight && options.renderComments) {\n      CSS.highlights.set(`${this.className}-comments`, this.commentHighlight);\n    }\n    this.postRenderTasks.forEach(t => t());\n    await Promise.allSettled(this.tasks);\n    this.refreshTabStops();\n  }\n  renderTheme(themePart, styleContainer) {\n    const variables = {};\n    const fontScheme = themePart.theme?.fontScheme;\n    if (fontScheme) {\n      if (fontScheme.majorFont) {\n        variables['--docx-majorHAnsi-font'] = fontScheme.majorFont.latinTypeface;\n      }\n      if (fontScheme.minorFont) {\n        variables['--docx-minorHAnsi-font'] = fontScheme.minorFont.latinTypeface;\n      }\n    }\n    const colorScheme = themePart.theme?.colorScheme;\n    if (colorScheme) {\n      for (let [k, v] of Object.entries(colorScheme.colors)) {\n        variables[`--docx-${k}-color`] = `#${v}`;\n      }\n    }\n    const cssText = this.styleToString(`.${this.className}`, variables);\n    styleContainer.appendChild(this.createStyleElement(cssText));\n  }\n  renderFontTable(fontsPart, styleContainer) {\n    for (let f of fontsPart.fonts) {\n      for (let ref of f.embedFontRefs) {\n        this.tasks.push(this.document.loadFont(ref.id, ref.key).then(fontData => {\n          const cssValues = {\n            'font-family': encloseFontFamily(f.name),\n            'src': `url(${fontData})`\n          };\n          if (ref.type == \"bold\" || ref.type == \"boldItalic\") {\n            cssValues['font-weight'] = 'bold';\n          }\n          if (ref.type == \"italic\" || ref.type == \"boldItalic\") {\n            cssValues['font-style'] = 'italic';\n          }\n          const cssText = this.styleToString(\"@font-face\", cssValues);\n          styleContainer.appendChild(this.createComment(`docxjs ${f.name} font`));\n          styleContainer.appendChild(this.createStyleElement(cssText));\n        }));\n      }\n    }\n  }\n  processStyleName(className) {\n    return className ? `${this.className}_${escapeClassName(className)}` : this.className;\n  }\n  processStyles(styles) {\n    const stylesMap = keyBy(styles.filter(x => x.id != null), x => x.id);\n    for (const style of styles.filter(x => x.basedOn)) {\n      var baseStyle = stylesMap[style.basedOn];\n      if (baseStyle) {\n        style.paragraphProps = mergeDeep(style.paragraphProps, baseStyle.paragraphProps);\n        style.runProps = mergeDeep(style.runProps, baseStyle.runProps);\n        for (const baseValues of baseStyle.styles) {\n          const styleValues = style.styles.find(x => x.target == baseValues.target);\n          if (styleValues) {\n            this.copyStyleProperties(baseValues.values, styleValues.values);\n          } else {\n            style.styles.push({\n              ...baseValues,\n              values: {\n                ...baseValues.values\n              }\n            });\n          }\n        }\n      } else if (this.options.debug) console.warn(`Can't find base style ${style.basedOn}`);\n    }\n    for (let style of styles) {\n      style.cssName = this.processStyleName(style.id);\n    }\n    return stylesMap;\n  }\n  prodessNumberings(numberings) {\n    for (let num of numberings.filter(n => n.pStyleName)) {\n      const style = this.findStyle(num.pStyleName);\n      if (style?.paragraphProps?.numbering) {\n        style.paragraphProps.numbering.level = num.level;\n      }\n    }\n  }\n  processElement(element) {\n    if (element.children) {\n      for (var e of element.children) {\n        e.parent = element;\n        if (e.type == DomType.Table) {\n          this.processTable(e);\n        } else {\n          this.processElement(e);\n        }\n      }\n    }\n  }\n  processTable(table) {\n    for (var r of table.children) {\n      for (var c of r.children) {\n        c.cssStyle = this.copyStyleProperties(table.cellStyle, c.cssStyle, [\"border-left\", \"border-right\", \"border-top\", \"border-bottom\", \"padding-left\", \"padding-right\", \"padding-top\", \"padding-bottom\"]);\n        this.processElement(c);\n      }\n    }\n  }\n  copyStyleProperties(input, output, attrs = null) {\n    if (!input) return output;\n    if (output == null) output = {};\n    if (attrs == null) attrs = Object.getOwnPropertyNames(input);\n    for (var key of attrs) {\n      if (input.hasOwnProperty(key) && !output.hasOwnProperty(key)) output[key] = input[key];\n    }\n    return output;\n  }\n  createPageElement(className, props) {\n    var elem = this.createElement(\"section\", {\n      className\n    });\n    if (props) {\n      if (props.pageMargins) {\n        elem.style.paddingLeft = props.pageMargins.left;\n        elem.style.paddingRight = props.pageMargins.right;\n        elem.style.paddingTop = props.pageMargins.top;\n        elem.style.paddingBottom = props.pageMargins.bottom;\n      }\n      if (props.pageSize) {\n        if (!this.options.ignoreWidth) elem.style.width = props.pageSize.width;\n        if (!this.options.ignoreHeight) elem.style.minHeight = props.pageSize.height;\n      }\n    }\n    return elem;\n  }\n  createSectionContent(props) {\n    var elem = this.createElement(\"article\");\n    if (props.columns && props.columns.numberOfColumns) {\n      elem.style.columnCount = `${props.columns.numberOfColumns}`;\n      elem.style.columnGap = props.columns.space;\n      if (props.columns.separator) {\n        elem.style.columnRule = \"1px solid black\";\n      }\n    }\n    return elem;\n  }\n  renderSections(document) {\n    const result = [];\n    this.processElement(document);\n    const sections = this.splitBySection(document.children, document.props);\n    const pages = this.groupByPageBreaks(sections);\n    let prevProps = null;\n    for (let i = 0, l = pages.length; i < l; i++) {\n      this.currentFootnoteIds = [];\n      const section = pages[i][0];\n      let props = section.sectProps;\n      const pageElement = this.createPageElement(this.className, props);\n      this.renderStyleValues(document.cssStyle, pageElement);\n      this.options.renderHeaders && this.renderHeaderFooter(props.headerRefs, props, result.length, prevProps != props, pageElement);\n      for (const sect of pages[i]) {\n        var contentElement = this.createSectionContent(sect.sectProps);\n        this.renderElements(sect.elements, contentElement);\n        pageElement.appendChild(contentElement);\n        props = sect.sectProps;\n      }\n      if (this.options.renderFootnotes) {\n        this.renderNotes(this.currentFootnoteIds, this.footnoteMap, pageElement);\n      }\n      if (this.options.renderEndnotes && i == l - 1) {\n        this.renderNotes(this.currentEndnoteIds, this.endnoteMap, pageElement);\n      }\n      this.options.renderFooters && this.renderHeaderFooter(props.footerRefs, props, result.length, prevProps != props, pageElement);\n      result.push(pageElement);\n      prevProps = props;\n    }\n    return result;\n  }\n  renderHeaderFooter(refs, props, page, firstOfSection, into) {\n    if (!refs) return;\n    var ref = (props.titlePage && firstOfSection ? refs.find(x => x.type == \"first\") : null) ?? (page % 2 == 1 ? refs.find(x => x.type == \"even\") : null) ?? refs.find(x => x.type == \"default\");\n    var part = ref && this.document.findPartByRelId(ref.id, this.document.documentPart);\n    if (part) {\n      this.currentPart = part;\n      if (!this.usedHederFooterParts.includes(part.path)) {\n        this.processElement(part.rootElement);\n        this.usedHederFooterParts.push(part.path);\n      }\n      const [el] = this.renderElements([part.rootElement], into);\n      if (props?.pageMargins) {\n        if (part.rootElement.type === DomType.Header) {\n          el.style.marginTop = `calc(${props.pageMargins.header} - ${props.pageMargins.top})`;\n          el.style.minHeight = `calc(${props.pageMargins.top} - ${props.pageMargins.header})`;\n        } else if (part.rootElement.type === DomType.Footer) {\n          el.style.marginBottom = `calc(${props.pageMargins.footer} - ${props.pageMargins.bottom})`;\n          el.style.minHeight = `calc(${props.pageMargins.bottom} - ${props.pageMargins.footer})`;\n        }\n      }\n      this.currentPart = null;\n    }\n  }\n  isPageBreakElement(elem) {\n    if (elem.type != DomType.Break) return false;\n    if (elem.break == \"lastRenderedPageBreak\") return !this.options.ignoreLastRenderedPageBreak;\n    return elem.break == \"page\";\n  }\n  isPageBreakSection(prev, next) {\n    if (!prev) return false;\n    if (!next) return false;\n    return prev.pageSize?.orientation != next.pageSize?.orientation || prev.pageSize?.width != next.pageSize?.width || prev.pageSize?.height != next.pageSize?.height;\n  }\n  splitBySection(elements, defaultProps) {\n    var current = {\n      sectProps: null,\n      elements: [],\n      pageBreak: false\n    };\n    var result = [current];\n    for (let elem of elements) {\n      if (elem.type == DomType.Paragraph) {\n        const s = this.findStyle(elem.styleName);\n        if (s?.paragraphProps?.pageBreakBefore) {\n          current.sectProps = sectProps;\n          current.pageBreak = true;\n          current = {\n            sectProps: null,\n            elements: [],\n            pageBreak: false\n          };\n          result.push(current);\n        }\n      }\n      current.elements.push(elem);\n      if (elem.type == DomType.Paragraph) {\n        const p = elem;\n        var sectProps = p.sectionProps;\n        var pBreakIndex = -1;\n        var rBreakIndex = -1;\n        if (this.options.breakPages && p.children) {\n          pBreakIndex = p.children.findIndex(r => {\n            rBreakIndex = r.children?.findIndex(this.isPageBreakElement.bind(this)) ?? -1;\n            return rBreakIndex != -1;\n          });\n        }\n        if (sectProps || pBreakIndex != -1) {\n          current.sectProps = sectProps;\n          current.pageBreak = pBreakIndex != -1;\n          current = {\n            sectProps: null,\n            elements: [],\n            pageBreak: false\n          };\n          result.push(current);\n        }\n        if (pBreakIndex != -1) {\n          let breakRun = p.children[pBreakIndex];\n          let splitRun = rBreakIndex < breakRun.children.length - 1;\n          if (pBreakIndex < p.children.length - 1 || splitRun) {\n            var children = elem.children;\n            var newParagraph = {\n              ...elem,\n              children: children.slice(pBreakIndex)\n            };\n            elem.children = children.slice(0, pBreakIndex);\n            current.elements.push(newParagraph);\n            if (splitRun) {\n              let runChildren = breakRun.children;\n              let newRun = {\n                ...breakRun,\n                children: runChildren.slice(0, rBreakIndex)\n              };\n              elem.children.push(newRun);\n              breakRun.children = runChildren.slice(rBreakIndex);\n            }\n          }\n        }\n      }\n    }\n    let currentSectProps = null;\n    for (let i = result.length - 1; i >= 0; i--) {\n      if (result[i].sectProps == null) {\n        result[i].sectProps = currentSectProps ?? defaultProps;\n      } else {\n        currentSectProps = result[i].sectProps;\n      }\n    }\n    return result;\n  }\n  groupByPageBreaks(sections) {\n    let current = [];\n    let prev;\n    const result = [current];\n    for (let s of sections) {\n      current.push(s);\n      if (this.options.ignoreLastRenderedPageBreak || s.pageBreak || this.isPageBreakSection(prev, s.sectProps)) result.push(current = []);\n      prev = s.sectProps;\n    }\n    return result.filter(x => x.length > 0);\n  }\n  renderWrapper(children) {\n    return this.createElement(\"div\", {\n      className: `${this.className}-wrapper`\n    }, children);\n  }\n  renderDefaultStyle() {\n    var c = this.className;\n    var wrapperStyle = `\n.${c}-wrapper { background: gray; padding: 30px; padding-bottom: 0px; display: flex; flex-flow: column; align-items: center; } \n.${c}-wrapper>section.${c} { background: white; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); margin-bottom: 30px; }`;\n    if (this.options.hideWrapperOnPrint) {\n      wrapperStyle = `@media not print { ${wrapperStyle} }`;\n    }\n    var styleText = `${wrapperStyle}\n.${c} { color: black; hyphens: auto; text-underline-position: from-font; }\nsection.${c} { box-sizing: border-box; display: flex; flex-flow: column nowrap; position: relative; overflow: hidden; }\nsection.${c}>article { margin-bottom: auto; z-index: 1; }\nsection.${c}>footer { z-index: 1; }\n.${c} table { border-collapse: collapse; }\n.${c} table td, .${c} table th { vertical-align: top; }\n.${c} p { margin: 0pt; min-height: 1em; }\n.${c} span { white-space: pre-wrap; overflow-wrap: break-word; }\n.${c} a { color: inherit; text-decoration: inherit; }\n.${c} svg { fill: transparent; }\n`;\n    if (this.options.renderComments) {\n      styleText += `\n.${c}-comment-ref { cursor: default; }\n.${c}-comment-popover { display: none; z-index: 1000; padding: 0.5rem; background: white; position: absolute; box-shadow: 0 0 0.25rem rgba(0, 0, 0, 0.25); width: 30ch; }\n.${c}-comment-ref:hover~.${c}-comment-popover { display: block; }\n.${c}-comment-author,.${c}-comment-date { font-size: 0.875rem; color: #888; }\n`;\n    }\n    return this.createStyleElement(styleText);\n  }\n  renderNumbering(numberings, styleContainer) {\n    var styleText = \"\";\n    var resetCounters = [];\n    for (var num of numberings) {\n      var selector = `p.${this.numberingClass(num.id, num.level)}`;\n      var listStyleType = \"none\";\n      if (num.bullet) {\n        let valiable = `--${this.className}-${num.bullet.src}`.toLowerCase();\n        styleText += this.styleToString(`${selector}:before`, {\n          \"content\": \"' '\",\n          \"display\": \"inline-block\",\n          \"background\": `var(${valiable})`\n        }, num.bullet.style);\n        this.tasks.push(this.document.loadNumberingImage(num.bullet.src).then(data => {\n          var text = `${this.rootSelector} { ${valiable}: url(${data}) }`;\n          styleContainer.appendChild(this.createStyleElement(text));\n        }));\n      } else if (num.levelText) {\n        let counter = this.numberingCounter(num.id, num.level);\n        const counterReset = counter + \" \" + (num.start - 1);\n        if (num.level > 0) {\n          styleText += this.styleToString(`p.${this.numberingClass(num.id, num.level - 1)}`, {\n            \"counter-set\": counterReset\n          });\n        }\n        resetCounters.push(counterReset);\n        styleText += this.styleToString(`${selector}:before`, {\n          \"content\": this.levelTextToContent(num.levelText, num.suff, num.id, this.numFormatToCssValue(num.format)),\n          \"counter-increment\": counter,\n          ...num.rStyle\n        });\n      } else {\n        listStyleType = this.numFormatToCssValue(num.format);\n      }\n      styleText += this.styleToString(selector, {\n        \"display\": \"list-item\",\n        \"list-style-position\": \"inside\",\n        \"list-style-type\": listStyleType,\n        ...num.pStyle\n      });\n    }\n    if (resetCounters.length > 0) {\n      styleText += this.styleToString(this.rootSelector, {\n        \"counter-reset\": resetCounters.join(\" \")\n      });\n    }\n    return this.createStyleElement(styleText);\n  }\n  renderStyles(styles) {\n    var styleText = \"\";\n    const stylesMap = this.styleMap;\n    const defautStyles = keyBy(styles.filter(s => s.isDefault), s => s.target);\n    for (const style of styles) {\n      var subStyles = style.styles;\n      if (style.linked) {\n        var linkedStyle = style.linked && stylesMap[style.linked];\n        if (linkedStyle) subStyles = subStyles.concat(linkedStyle.styles);else if (this.options.debug) console.warn(`Can't find linked style ${style.linked}`);\n      }\n      for (const subStyle of subStyles) {\n        var selector = `${style.target ?? ''}.${style.cssName}`;\n        if (style.target != subStyle.target) selector += ` ${subStyle.target}`;\n        if (defautStyles[style.target] == style) selector = `.${this.className} ${style.target}, ` + selector;\n        styleText += this.styleToString(selector, subStyle.values);\n      }\n    }\n    return this.createStyleElement(styleText);\n  }\n  renderNotes(noteIds, notesMap, into) {\n    var notes = noteIds.map(id => notesMap[id]).filter(x => x);\n    if (notes.length > 0) {\n      var result = this.createElement(\"ol\", null, this.renderElements(notes));\n      into.appendChild(result);\n    }\n  }\n  renderElement(elem) {\n    switch (elem.type) {\n      case DomType.Paragraph:\n        return this.renderParagraph(elem);\n      case DomType.BookmarkStart:\n        return this.renderBookmarkStart(elem);\n      case DomType.BookmarkEnd:\n        return null;\n      case DomType.Run:\n        return this.renderRun(elem);\n      case DomType.Table:\n        return this.renderTable(elem);\n      case DomType.Row:\n        return this.renderTableRow(elem);\n      case DomType.Cell:\n        return this.renderTableCell(elem);\n      case DomType.Hyperlink:\n        return this.renderHyperlink(elem);\n      case DomType.SmartTag:\n        return this.renderSmartTag(elem);\n      case DomType.Drawing:\n        return this.renderDrawing(elem);\n      case DomType.Image:\n        return this.renderImage(elem);\n      case DomType.Text:\n        return this.renderText(elem);\n      case DomType.Text:\n        return this.renderText(elem);\n      case DomType.DeletedText:\n        return this.renderDeletedText(elem);\n      case DomType.Tab:\n        return this.renderTab(elem);\n      case DomType.Symbol:\n        return this.renderSymbol(elem);\n      case DomType.Break:\n        return this.renderBreak(elem);\n      case DomType.Footer:\n        return this.renderContainer(elem, \"footer\");\n      case DomType.Header:\n        return this.renderContainer(elem, \"header\");\n      case DomType.Footnote:\n      case DomType.Endnote:\n        return this.renderContainer(elem, \"li\");\n      case DomType.FootnoteReference:\n        return this.renderFootnoteReference(elem);\n      case DomType.EndnoteReference:\n        return this.renderEndnoteReference(elem);\n      case DomType.NoBreakHyphen:\n        return this.createElement(\"wbr\");\n      case DomType.VmlPicture:\n        return this.renderVmlPicture(elem);\n      case DomType.VmlElement:\n        return this.renderVmlElement(elem);\n      case DomType.MmlMath:\n        return this.renderContainerNS(elem, ns.mathML, \"math\", {\n          xmlns: ns.mathML\n        });\n      case DomType.MmlMathParagraph:\n        return this.renderContainer(elem, \"span\");\n      case DomType.MmlFraction:\n        return this.renderContainerNS(elem, ns.mathML, \"mfrac\");\n      case DomType.MmlBase:\n        return this.renderContainerNS(elem, ns.mathML, elem.parent.type == DomType.MmlMatrixRow ? \"mtd\" : \"mrow\");\n      case DomType.MmlNumerator:\n      case DomType.MmlDenominator:\n      case DomType.MmlFunction:\n      case DomType.MmlLimit:\n      case DomType.MmlBox:\n        return this.renderContainerNS(elem, ns.mathML, \"mrow\");\n      case DomType.MmlGroupChar:\n        return this.renderMmlGroupChar(elem);\n      case DomType.MmlLimitLower:\n        return this.renderContainerNS(elem, ns.mathML, \"munder\");\n      case DomType.MmlMatrix:\n        return this.renderContainerNS(elem, ns.mathML, \"mtable\");\n      case DomType.MmlMatrixRow:\n        return this.renderContainerNS(elem, ns.mathML, \"mtr\");\n      case DomType.MmlRadical:\n        return this.renderMmlRadical(elem);\n      case DomType.MmlSuperscript:\n        return this.renderContainerNS(elem, ns.mathML, \"msup\");\n      case DomType.MmlSubscript:\n        return this.renderContainerNS(elem, ns.mathML, \"msub\");\n      case DomType.MmlDegree:\n      case DomType.MmlSuperArgument:\n      case DomType.MmlSubArgument:\n        return this.renderContainerNS(elem, ns.mathML, \"mn\");\n      case DomType.MmlFunctionName:\n        return this.renderContainerNS(elem, ns.mathML, \"ms\");\n      case DomType.MmlDelimiter:\n        return this.renderMmlDelimiter(elem);\n      case DomType.MmlRun:\n        return this.renderMmlRun(elem);\n      case DomType.MmlNary:\n        return this.renderMmlNary(elem);\n      case DomType.MmlPreSubSuper:\n        return this.renderMmlPreSubSuper(elem);\n      case DomType.MmlBar:\n        return this.renderMmlBar(elem);\n      case DomType.MmlEquationArray:\n        return this.renderMllList(elem);\n      case DomType.Inserted:\n        return this.renderInserted(elem);\n      case DomType.Deleted:\n        return this.renderDeleted(elem);\n      case DomType.CommentRangeStart:\n        return this.renderCommentRangeStart(elem);\n      case DomType.CommentRangeEnd:\n        return this.renderCommentRangeEnd(elem);\n      case DomType.CommentReference:\n        return this.renderCommentReference(elem);\n      case DomType.AltChunk:\n        return this.renderAltChunk(elem);\n    }\n    return null;\n  }\n  renderElements(elems, into) {\n    if (elems == null) return null;\n    var result = elems.flatMap(e => this.renderElement(e)).filter(e => e != null);\n    if (into) appendChildren(into, result);\n    return result;\n  }\n  renderContainer(elem, tagName, props) {\n    return this.createElement(tagName, props, this.renderElements(elem.children));\n  }\n  renderContainerNS(elem, ns, tagName, props) {\n    return this.createElementNS(ns, tagName, props, this.renderElements(elem.children));\n  }\n  renderParagraph(elem) {\n    var result = this.renderContainer(elem, \"p\");\n    const style = this.findStyle(elem.styleName);\n    elem.tabs ?? (elem.tabs = style?.paragraphProps?.tabs);\n    this.renderClass(elem, result);\n    this.renderStyleValues(elem.cssStyle, result);\n    this.renderCommonProperties(result.style, elem);\n    const numbering = elem.numbering ?? style?.paragraphProps?.numbering;\n    if (numbering) {\n      result.classList.add(this.numberingClass(numbering.id, numbering.level));\n    }\n    return result;\n  }\n  renderRunProperties(style, props) {\n    this.renderCommonProperties(style, props);\n  }\n  renderCommonProperties(style, props) {\n    if (props == null) return;\n    if (props.color) {\n      style[\"color\"] = props.color;\n    }\n    if (props.fontSize) {\n      style[\"font-size\"] = props.fontSize;\n    }\n  }\n  renderHyperlink(elem) {\n    var result = this.renderContainer(elem, \"a\");\n    this.renderStyleValues(elem.cssStyle, result);\n    let href = '';\n    if (elem.id) {\n      const rel = this.document.documentPart.rels.find(it => it.id == elem.id && it.targetMode === \"External\");\n      href = rel?.target ?? href;\n    }\n    if (elem.anchor) {\n      href += `#${elem.anchor}`;\n    }\n    result.href = href;\n    return result;\n  }\n  renderSmartTag(elem) {\n    return this.renderContainer(elem, \"span\");\n  }\n  renderCommentRangeStart(commentStart) {\n    if (!this.options.renderComments) return null;\n    const rng = new Range();\n    this.commentHighlight?.add(rng);\n    const result = this.createComment(`start of comment #${commentStart.id}`);\n    this.later(() => rng.setStart(result, 0));\n    this.commentMap[commentStart.id] = rng;\n    return result;\n  }\n  renderCommentRangeEnd(commentEnd) {\n    if (!this.options.renderComments) return null;\n    const rng = this.commentMap[commentEnd.id];\n    const result = this.createComment(`end of comment #${commentEnd.id}`);\n    this.later(() => rng?.setEnd(result, 0));\n    return result;\n  }\n  renderCommentReference(commentRef) {\n    if (!this.options.renderComments) return null;\n    var comment = this.document.commentsPart?.commentMap[commentRef.id];\n    if (!comment) return null;\n    const frg = new DocumentFragment();\n    const commentRefEl = this.createElement(\"span\", {\n      className: `${this.className}-comment-ref`\n    }, ['']);\n    const commentsContainerEl = this.createElement(\"div\", {\n      className: `${this.className}-comment-popover`\n    });\n    this.renderCommentContent(comment, commentsContainerEl);\n    frg.appendChild(this.createComment(`comment #${comment.id} by ${comment.author} on ${comment.date}`));\n    frg.appendChild(commentRefEl);\n    frg.appendChild(commentsContainerEl);\n    return frg;\n  }\n  renderAltChunk(elem) {\n    if (!this.options.renderAltChunks) return null;\n    var result = this.createElement(\"iframe\");\n    this.tasks.push(this.document.loadAltChunk(elem.id, this.currentPart).then(x => {\n      result.srcdoc = x;\n    }));\n    return result;\n  }\n  renderCommentContent(comment, container) {\n    container.appendChild(this.createElement('div', {\n      className: `${this.className}-comment-author`\n    }, [comment.author]));\n    container.appendChild(this.createElement('div', {\n      className: `${this.className}-comment-date`\n    }, [new Date(comment.date).toLocaleString()]));\n    this.renderElements(comment.children, container);\n  }\n  renderDrawing(elem) {\n    var result = this.renderContainer(elem, \"div\");\n    result.style.display = \"inline-block\";\n    result.style.position = \"relative\";\n    result.style.textIndent = \"0px\";\n    this.renderStyleValues(elem.cssStyle, result);\n    return result;\n  }\n  renderImage(elem) {\n    let result = this.createElement(\"img\");\n    let transform = elem.cssStyle?.transform;\n    this.renderStyleValues(elem.cssStyle, result);\n    if (elem.srcRect && elem.srcRect.some(x => x != 0)) {\n      var [left, top, right, bottom] = elem.srcRect;\n      transform = `scale(${1 / (1 - left - right)}, ${1 / (1 - top - bottom)})`;\n      result.style['clip-path'] = `rect(${(100 * top).toFixed(2)}% ${(100 * (1 - right)).toFixed(2)}% ${(100 * (1 - bottom)).toFixed(2)}% ${(100 * left).toFixed(2)}%)`;\n    }\n    if (elem.rotation) transform = `rotate(${elem.rotation}deg) ${transform ?? ''}`;\n    result.style.transform = transform?.trim();\n    if (this.document) {\n      this.tasks.push(this.document.loadDocumentImage(elem.src, this.currentPart).then(x => {\n        result.src = x;\n      }));\n    }\n    return result;\n  }\n  renderText(elem) {\n    return this.htmlDocument.createTextNode(elem.text);\n  }\n  renderDeletedText(elem) {\n    return this.options.renderChanges ? this.renderText(elem) : null;\n  }\n  renderBreak(elem) {\n    if (elem.break == \"textWrapping\") {\n      return this.createElement(\"br\");\n    }\n    return null;\n  }\n  renderInserted(elem) {\n    if (this.options.renderChanges) return this.renderContainer(elem, \"ins\");\n    return this.renderElements(elem.children);\n  }\n  renderDeleted(elem) {\n    if (this.options.renderChanges) return this.renderContainer(elem, \"del\");\n    return null;\n  }\n  renderSymbol(elem) {\n    var span = this.createElement(\"span\");\n    span.style.fontFamily = elem.font;\n    span.innerHTML = `&#x${elem.char};`;\n    return span;\n  }\n  renderFootnoteReference(elem) {\n    var result = this.createElement(\"sup\");\n    this.currentFootnoteIds.push(elem.id);\n    result.textContent = `${this.currentFootnoteIds.length}`;\n    return result;\n  }\n  renderEndnoteReference(elem) {\n    var result = this.createElement(\"sup\");\n    this.currentEndnoteIds.push(elem.id);\n    result.textContent = `${this.currentEndnoteIds.length}`;\n    return result;\n  }\n  renderTab(elem) {\n    var tabSpan = this.createElement(\"span\");\n    tabSpan.innerHTML = \"&emsp;\";\n    if (this.options.experimental) {\n      tabSpan.className = this.tabStopClass();\n      var stops = findParent(elem, DomType.Paragraph)?.tabs;\n      this.currentTabs.push({\n        stops,\n        span: tabSpan\n      });\n    }\n    return tabSpan;\n  }\n  renderBookmarkStart(elem) {\n    return this.createElement(\"span\", {\n      id: elem.name\n    });\n  }\n  renderRun(elem) {\n    if (elem.fieldRun) return null;\n    const result = this.createElement(\"span\");\n    if (elem.id) result.id = elem.id;\n    this.renderClass(elem, result);\n    this.renderStyleValues(elem.cssStyle, result);\n    if (elem.verticalAlign) {\n      const wrapper = this.createElement(elem.verticalAlign);\n      this.renderElements(elem.children, wrapper);\n      result.appendChild(wrapper);\n    } else {\n      this.renderElements(elem.children, result);\n    }\n    return result;\n  }\n  renderTable(elem) {\n    let result = this.createElement(\"table\");\n    this.tableCellPositions.push(this.currentCellPosition);\n    this.tableVerticalMerges.push(this.currentVerticalMerge);\n    this.currentVerticalMerge = {};\n    this.currentCellPosition = {\n      col: 0,\n      row: 0\n    };\n    if (elem.columns) result.appendChild(this.renderTableColumns(elem.columns));\n    this.renderClass(elem, result);\n    this.renderElements(elem.children, result);\n    this.renderStyleValues(elem.cssStyle, result);\n    this.currentVerticalMerge = this.tableVerticalMerges.pop();\n    this.currentCellPosition = this.tableCellPositions.pop();\n    return result;\n  }\n  renderTableColumns(columns) {\n    let result = this.createElement(\"colgroup\");\n    for (let col of columns) {\n      let colElem = this.createElement(\"col\");\n      if (col.width) colElem.style.width = col.width;\n      result.appendChild(colElem);\n    }\n    return result;\n  }\n  renderTableRow(elem) {\n    let result = this.createElement(\"tr\");\n    this.currentCellPosition.col = 0;\n    if (elem.gridBefore) result.appendChild(this.renderTableCellPlaceholder(elem.gridBefore));\n    this.renderClass(elem, result);\n    this.renderElements(elem.children, result);\n    this.renderStyleValues(elem.cssStyle, result);\n    if (elem.gridAfter) result.appendChild(this.renderTableCellPlaceholder(elem.gridAfter));\n    this.currentCellPosition.row++;\n    return result;\n  }\n  renderTableCellPlaceholder(colSpan) {\n    const result = this.createElement(\"td\", {\n      colSpan\n    });\n    result.style['border'] = 'none';\n    return result;\n  }\n  renderTableCell(elem) {\n    let result = this.renderContainer(elem, \"td\");\n    const key = this.currentCellPosition.col;\n    if (elem.verticalMerge) {\n      if (elem.verticalMerge == \"restart\") {\n        this.currentVerticalMerge[key] = result;\n        result.rowSpan = 1;\n      } else if (this.currentVerticalMerge[key]) {\n        this.currentVerticalMerge[key].rowSpan += 1;\n        result.style.display = \"none\";\n      }\n    } else {\n      this.currentVerticalMerge[key] = null;\n    }\n    this.renderClass(elem, result);\n    this.renderStyleValues(elem.cssStyle, result);\n    if (elem.span) result.colSpan = elem.span;\n    this.currentCellPosition.col += result.colSpan;\n    return result;\n  }\n  renderVmlPicture(elem) {\n    return this.renderContainer(elem, \"div\");\n  }\n  renderVmlElement(elem) {\n    var container = this.createSvgElement(\"svg\");\n    container.setAttribute(\"style\", elem.cssStyleText);\n    const result = this.renderVmlChildElement(elem);\n    if (elem.imageHref?.id) {\n      this.tasks.push(this.document?.loadDocumentImage(elem.imageHref.id, this.currentPart).then(x => result.setAttribute(\"href\", x)));\n    }\n    container.appendChild(result);\n    requestAnimationFrame(() => {\n      const bb = container.firstElementChild.getBBox();\n      container.setAttribute(\"width\", `${Math.ceil(bb.x + bb.width)}`);\n      container.setAttribute(\"height\", `${Math.ceil(bb.y + bb.height)}`);\n    });\n    return container;\n  }\n  renderVmlChildElement(elem) {\n    const result = this.createSvgElement(elem.tagName);\n    Object.entries(elem.attrs).forEach(([k, v]) => result.setAttribute(k, v));\n    for (let child of elem.children) {\n      if (child.type == DomType.VmlElement) {\n        result.appendChild(this.renderVmlChildElement(child));\n      } else {\n        result.appendChild(...asArray(this.renderElement(child)));\n      }\n    }\n    return result;\n  }\n  renderMmlRadical(elem) {\n    const base = elem.children.find(el => el.type == DomType.MmlBase);\n    if (elem.props?.hideDegree) {\n      return this.createElementNS(ns.mathML, \"msqrt\", null, this.renderElements([base]));\n    }\n    const degree = elem.children.find(el => el.type == DomType.MmlDegree);\n    return this.createElementNS(ns.mathML, \"mroot\", null, this.renderElements([base, degree]));\n  }\n  renderMmlDelimiter(elem) {\n    const children = [];\n    children.push(this.createElementNS(ns.mathML, \"mo\", null, [elem.props.beginChar ?? '(']));\n    children.push(...this.renderElements(elem.children));\n    children.push(this.createElementNS(ns.mathML, \"mo\", null, [elem.props.endChar ?? ')']));\n    return this.createElementNS(ns.mathML, \"mrow\", null, children);\n  }\n  renderMmlNary(elem) {\n    const children = [];\n    const grouped = keyBy(elem.children, x => x.type);\n    const sup = grouped[DomType.MmlSuperArgument];\n    const sub = grouped[DomType.MmlSubArgument];\n    const supElem = sup ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sup))) : null;\n    const subElem = sub ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sub))) : null;\n    const charElem = this.createElementNS(ns.mathML, \"mo\", null, [elem.props?.char ?? '\\u222B']);\n    if (supElem || subElem) {\n      children.push(this.createElementNS(ns.mathML, \"munderover\", null, [charElem, subElem, supElem]));\n    } else if (supElem) {\n      children.push(this.createElementNS(ns.mathML, \"mover\", null, [charElem, supElem]));\n    } else if (subElem) {\n      children.push(this.createElementNS(ns.mathML, \"munder\", null, [charElem, subElem]));\n    } else {\n      children.push(charElem);\n    }\n    children.push(...this.renderElements(grouped[DomType.MmlBase].children));\n    return this.createElementNS(ns.mathML, \"mrow\", null, children);\n  }\n  renderMmlPreSubSuper(elem) {\n    const children = [];\n    const grouped = keyBy(elem.children, x => x.type);\n    const sup = grouped[DomType.MmlSuperArgument];\n    const sub = grouped[DomType.MmlSubArgument];\n    const supElem = sup ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sup))) : null;\n    const subElem = sub ? this.createElementNS(ns.mathML, \"mo\", null, asArray(this.renderElement(sub))) : null;\n    const stubElem = this.createElementNS(ns.mathML, \"mo\", null);\n    children.push(this.createElementNS(ns.mathML, \"msubsup\", null, [stubElem, subElem, supElem]));\n    children.push(...this.renderElements(grouped[DomType.MmlBase].children));\n    return this.createElementNS(ns.mathML, \"mrow\", null, children);\n  }\n  renderMmlGroupChar(elem) {\n    const tagName = elem.props.verticalJustification === \"bot\" ? \"mover\" : \"munder\";\n    const result = this.renderContainerNS(elem, ns.mathML, tagName);\n    if (elem.props.char) {\n      result.appendChild(this.createElementNS(ns.mathML, \"mo\", null, [elem.props.char]));\n    }\n    return result;\n  }\n  renderMmlBar(elem) {\n    const result = this.renderContainerNS(elem, ns.mathML, \"mrow\");\n    switch (elem.props.position) {\n      case \"top\":\n        result.style.textDecoration = \"overline\";\n        break;\n      case \"bottom\":\n        result.style.textDecoration = \"underline\";\n        break;\n    }\n    return result;\n  }\n  renderMmlRun(elem) {\n    const result = this.createElementNS(ns.mathML, \"ms\", null, this.renderElements(elem.children));\n    this.renderClass(elem, result);\n    this.renderStyleValues(elem.cssStyle, result);\n    return result;\n  }\n  renderMllList(elem) {\n    const result = this.createElementNS(ns.mathML, \"mtable\");\n    this.renderClass(elem, result);\n    this.renderStyleValues(elem.cssStyle, result);\n    for (let child of this.renderElements(elem.children)) {\n      result.appendChild(this.createElementNS(ns.mathML, \"mtr\", null, [this.createElementNS(ns.mathML, \"mtd\", null, [child])]));\n    }\n    return result;\n  }\n  renderStyleValues(style, ouput) {\n    for (let k in style) {\n      if (k.startsWith(\"$\")) {\n        ouput.setAttribute(k.slice(1), style[k]);\n      } else {\n        ouput.style[k] = style[k];\n      }\n    }\n  }\n  renderClass(input, ouput) {\n    if (input.className) ouput.className = input.className;\n    if (input.styleName) ouput.classList.add(this.processStyleName(input.styleName));\n  }\n  findStyle(styleName) {\n    return styleName && this.styleMap?.[styleName];\n  }\n  numberingClass(id, lvl) {\n    return `${this.className}-num-${id}-${lvl}`;\n  }\n  tabStopClass() {\n    return `${this.className}-tab-stop`;\n  }\n  styleToString(selectors, values, cssText = null) {\n    let result = `${selectors} {\\r\\n`;\n    for (const key in values) {\n      if (key.startsWith('$')) continue;\n      result += `  ${key}: ${values[key]};\\r\\n`;\n    }\n    if (cssText) result += cssText;\n    return result + \"}\\r\\n\";\n  }\n  numberingCounter(id, lvl) {\n    return `${this.className}-num-${id}-${lvl}`;\n  }\n  levelTextToContent(text, suff, id, numformat) {\n    const suffMap = {\n      \"tab\": \"\\\\9\",\n      \"space\": \"\\\\a0\"\n    };\n    var result = text.replace(/%\\d*/g, s => {\n      let lvl = parseInt(s.substring(1), 10) - 1;\n      return `\"counter(${this.numberingCounter(id, lvl)}, ${numformat})\"`;\n    });\n    return `\"${result}${suffMap[suff] ?? \"\"}\"`;\n  }\n  numFormatToCssValue(format) {\n    var mapping = {\n      none: \"none\",\n      bullet: \"disc\",\n      decimal: \"decimal\",\n      lowerLetter: \"lower-alpha\",\n      upperLetter: \"upper-alpha\",\n      lowerRoman: \"lower-roman\",\n      upperRoman: \"upper-roman\",\n      decimalZero: \"decimal-leading-zero\",\n      aiueo: \"katakana\",\n      aiueoFullWidth: \"katakana\",\n      chineseCounting: \"simp-chinese-informal\",\n      chineseCountingThousand: \"simp-chinese-informal\",\n      chineseLegalSimplified: \"simp-chinese-formal\",\n      chosung: \"hangul-consonant\",\n      ideographDigital: \"cjk-ideographic\",\n      ideographTraditional: \"cjk-heavenly-stem\",\n      ideographLegalTraditional: \"trad-chinese-formal\",\n      ideographZodiac: \"cjk-earthly-branch\",\n      iroha: \"katakana-iroha\",\n      irohaFullWidth: \"katakana-iroha\",\n      japaneseCounting: \"japanese-informal\",\n      japaneseDigitalTenThousand: \"cjk-decimal\",\n      japaneseLegal: \"japanese-formal\",\n      thaiNumbers: \"thai\",\n      koreanCounting: \"korean-hangul-formal\",\n      koreanDigital: \"korean-hangul-formal\",\n      koreanDigital2: \"korean-hanja-informal\",\n      hebrew1: \"hebrew\",\n      hebrew2: \"hebrew\",\n      hindiNumbers: \"devanagari\",\n      ganada: \"hangul\",\n      taiwaneseCounting: \"cjk-ideographic\",\n      taiwaneseCountingThousand: \"cjk-ideographic\",\n      taiwaneseDigital: \"cjk-decimal\"\n    };\n    return mapping[format] ?? format;\n  }\n  refreshTabStops() {\n    if (!this.options.experimental) return;\n    setTimeout(() => {\n      const pixelToPoint = computePixelToPoint();\n      for (let tab of this.currentTabs) {\n        updateTabStop(tab.span, tab.stops, this.defaultTabSize, pixelToPoint);\n      }\n    }, 500);\n  }\n  createElementNS(ns, tagName, props, children) {\n    var result = ns ? this.htmlDocument.createElementNS(ns, tagName) : this.htmlDocument.createElement(tagName);\n    Object.assign(result, props);\n    children && appendChildren(result, children);\n    return result;\n  }\n  createElement(tagName, props, children) {\n    return this.createElementNS(undefined, tagName, props, children);\n  }\n  createSvgElement(tagName, props, children) {\n    return this.createElementNS(ns.svg, tagName, props, children);\n  }\n  createStyleElement(cssText) {\n    return this.createElement(\"style\", {\n      innerHTML: cssText\n    });\n  }\n  createComment(text) {\n    return this.htmlDocument.createComment(text);\n  }\n  later(func) {\n    this.postRenderTasks.push(func);\n  }\n}\nfunction removeAllElements(elem) {\n  elem.innerHTML = '';\n}\nfunction appendChildren(elem, children) {\n  children.forEach(c => elem.appendChild(isString(c) ? document.createTextNode(c) : c));\n}\nfunction findParent(elem, type) {\n  var parent = elem.parent;\n  while (parent != null && parent.type != type) parent = parent.parent;\n  return parent;\n}\nconst defaultOptions = {\n  ignoreHeight: false,\n  ignoreWidth: false,\n  ignoreFonts: false,\n  breakPages: true,\n  debug: false,\n  experimental: false,\n  className: \"docx\",\n  inWrapper: true,\n  hideWrapperOnPrint: false,\n  trimXmlDeclaration: true,\n  ignoreLastRenderedPageBreak: true,\n  renderHeaders: true,\n  renderFooters: true,\n  renderFootnotes: true,\n  renderEndnotes: true,\n  useBase64URL: false,\n  renderChanges: false,\n  renderComments: false,\n  renderAltChunks: true\n};\nfunction parseAsync(data, userOptions) {\n  const ops = {\n    ...defaultOptions,\n    ...userOptions\n  };\n  return WordDocument.load(data, new DocumentParser(ops), ops);\n}\nasync function renderDocument(document, bodyContainer, styleContainer, userOptions) {\n  const ops = {\n    ...defaultOptions,\n    ...userOptions\n  };\n  const renderer = new HtmlRenderer(window.document);\n  return await renderer.render(document, bodyContainer, styleContainer, ops);\n}\nasync function renderAsync(data, bodyContainer, styleContainer, userOptions) {\n  const doc = await parseAsync(data, userOptions);\n  await renderDocument(doc, bodyContainer, styleContainer, userOptions);\n  return doc;\n}\nexport { defaultOptions, parseAsync, renderAsync, renderDocument };","map":{"version":3,"names":["RelationshipTypes","parseRelationships","root","xml","elements","map","e","id","attr","type","target","targetMode","escapeClassName","className","replace","toLowerCase","encloseFontFamily","fontFamily","test","splitPath","path","si","lastIndexOf","folder","substring","fileName","resolvePath","base","prefix","url","URL","toString","length","keyBy","array","by","reduce","a","x","blobToBase64","blob","Promise","resolve","reject","reader","FileReader","onloadend","result","onerror","readAsDataURL","isObject","item","Array","isArray","isString","String","mergeDeep","sources","source","shift","key","val","asArray","clamp","min","max","ns$1","wordml","LengthUsage","Dxa","mul","unit","Emu","FontSize","Border","Point","Percent","convertLength","usage","num","parseInt","toFixed","convertBoolean","v","defaultValue","parseCommonProperty","elem","props","namespaceURI","localName","color","fontSize","lengthAttr","parseXmlString","xmlString","trimXmlDeclaration","removeUTF8BOM","DOMParser","parseFromString","errorText","hasXmlParserError","Error","doc","getElementsByTagName","textContent","data","charCodeAt","serializeXmlString","XMLSerializer","serializeToString","XmlParser","i","l","childNodes","c","nodeType","Node","ELEMENT_NODE","push","element","elementAttr","attrLocalName","el","undefined","attrs","from","attributes","value","intAttr","node","attrName","hexAttr","floatAttr","parseFloat","boolAttr","globalXmlParser","Part","constructor","_package","load","rels","loadRelationships","xmlText","xmlDoc","parseXmlDocument","options","keepOrigin","_xmlDocument","parseXml","firstElementChild","save","update","embedFontTypeMap","embedRegular","embedBold","embedItalic","embedBoldItalic","parseFonts","parseFont","name","embedFontRefs","family","altName","parseEmbedFontRef","FontTablePart","fonts","xmlParser","OpenXmlPackage","_zip","get","p","normalizePath","files","content","file","input","zip","JSZip","loadAsync","generateAsync","async","relsPath","f","fn","txt","startsWith","substr","DocumentPart","pkg","parser","_documentParser","body","parseDocumentFile","parseBorder","size","offset","frame","shadow","parseBorders","left","top","right","bottom","SectionType","parseSectionProperties","section","pageSize","width","height","orientation","pageMargins","header","footer","gutter","columns","parseColumns","headerRefs","parseFooterHeaderReference","footerRefs","titlePage","pageBorders","pageNumber","parsePageNumber","numberOfColumns","space","separator","equalWidth","chapSep","chapStyle","format","start","parseLineSpacing","before","after","line","lineRule","parseRunProperties","parseRunProperty","parseParagraphProperties","parseParagraphProperty","tabs","parseTabs","sectionProps","numbering","parseNumbering$1","lineSpacing","textAlignment","keepLines","keepNext","pageBreakBefore","outlineLevel","styleName","runProps","position","leader","style","parseNumbering","level","parseNumberingPart","numberings","abstractNumberings","bulletPictures","parseAbstractNumbering","parseNumberingBulletPicture","overrides","abstractId","parseNumberingLevelOverrride","levels","multiLevelType","numberingStyleLink","styleLink","parseNumberingLevel","restart","text","justification","bulletPictureId","paragraphStyle","paragraphProps","numberingLevel","pict","shape","imagedata","referenceId","NumberingPart","Object","assign","domNumberings","parseNumberingFile","StylesPart","styles","parseStylesFile","DomType","OpenXmlElementBase","children","cssStyle","WmlHeader","Header","WmlFooter","Footer","BaseHeaderFooterPart","rootElement","createRootElement","parseBodyElements","HeaderPart","FooterPart","parseExtendedProps","template","pages","safeParseToInt","words","characters","application","lines","paragraphs","company","appVersion","ExtendedPropsPart","parseCoreProps","title","description","subject","creator","keywords","language","lastModifiedBy","revision","CorePropsPart","DmlTheme","parseTheme","themeElements","colorScheme","parseColorScheme","fontScheme","parseFontScheme","colors","srgbClr","sysClr","majorFont","parseFontInfo","minorFont","latinTypeface","eaTypeface","csTypeface","ThemePart","theme","WmlBaseNote","WmlFootnote","Footnote","WmlEndnote","Endnote","BaseNotePart","FootnotesPart","notes","parseNotes","EndnotesPart","parseSettings","defaultTabStop","footnoteProps","parseNoteProperties","endnoteProps","autoHyphenation","defaultNoteIds","nummeringFormat","SettingsPart","settings","parseCustomProps","firstChild","formatId","nodeName","CustomPropsPart","CommentsPart","comments","parseComments","commentMap","CommentsExtendedPart","paraId","paraIdParent","done","topLevelRels","OfficeDocument","ExtendedProperties","CoreProperties","CustomProperties","WordDocument","parts","partsMap","d","_options","_parser","all","rel","r","find","loadRelationshipPart","part","documentPart","FontTable","fontTablePart","Numbering","numberingPart","Styles","stylesPart","Theme","themePart","Footnotes","footnotesPart","Endnotes","endnotesPart","corePropsPart","extendedPropsPart","Settings","settingsPart","Comments","commentsPart","CommentsExtended","commentsExtendedPart","loadDocumentImage","loadResource","blobToURL","loadNumberingImage","loadFont","Blob","deobfuscate","loadAltChunk","useBase64URL","createObjectURL","findPartByRelId","basePart","getPathById","outputType","guidKey","len","trimmed","numbers","parseBookmarkStart","BookmarkStart","colFirst","colLast","parseBookmarkEnd","BookmarkEnd","VmlElement","parseVmlElement","tagName","cx","cy","rx","ry","at","cssStyleText","fill","x1","y1","parsePoint","x2","y2","parseStroke","parseFill","imageHref","child","split","WmlComment","Comment","WmlCommentReference","CommentReference","WmlCommentRangeStart","CommentRangeStart","WmlCommentRangeEnd","CommentRangeEnd","autos","shd","borderColor","highlight","supportedNamespaceURIs","mmlTagMap","MmlMath","MmlMathParagraph","MmlFraction","MmlFunction","MmlFunctionName","MmlNumerator","MmlDenominator","MmlRadical","MmlDegree","MmlBase","MmlSuperscript","MmlSubscript","MmlPreSubSuper","MmlSuperArgument","MmlSubArgument","MmlDelimiter","MmlNary","MmlEquationArray","MmlLimit","MmlLimitLower","MmlMatrix","MmlMatrixRow","MmlBox","MmlBar","MmlGroupChar","DocumentParser","ignoreWidth","debug","elemName","elemClass","noteType","author","initials","date","xbody","background","sectPr","Document","parseBackground","xmlUtil","colorAttr","parseParagraph","parseAltChunk","parseTable","parseSdt","xstyles","n","parseStyle","parseDefaultStyles","basedOn","rPr","values","parseDefaultProperties","pPr","isDefault","linked","next","aliases","s","parseTableStyle","console","warn","selector","modificator","mod","mapping","bullets","forEach","parseNumberingPicBullet","numId","abstractNumId","src","pStyleName","pStyle","rStyle","suff","bulletId","bullet","levelText","sdtContent","parseInserted","parentParser","Inserted","parseDeleted","Deleted","AltChunk","Paragraph","parseRun","parseHyperlink","parseSmartTag","parseMathElement","paragraph","classNameOfCnfStyle","parseFrame","dropCap","parent","Hyperlink","anchor","SmartTag","uri","Run","checkAlternateContent","Text","DeletedText","SimpleField","instruction","lock","dirty","fieldRun","Instruction","ComplexField","charType","NoBreakHyphen","Break","break","Symbol","font","char","Tab","FootnoteReference","EndnoteReference","parseDrawing","parseVmlPicture","propsTag","childType","run","MmlRun","parseMathProperies","verticalJustification","hideDegree","beginChar","endChar","verticalAlign","valueOfVertAlign","VmlPicture","choice","requires","lookupNamespaceURI","includes","parseDrawingWrapper","Drawing","isAnchor","wrapType","simplePos","posX","relative","align","posY","pos","alignNode","offsetNode","g","parseGraphic","graphicData","parsePicture","Image","blipFill","blip","srcRect","spPr","xfrm","rotation","Table","parseTableRow","parseTableColumns","parseTableProperties","table","cellStyle","classNameOftblLook","parseTablePosition","colBandSize","rowBandSize","topFromText","bottomFromText","rightFromText","leftFromText","addSize","Row","parseTableCell","parseTableRowProperties","row","isHeader","gridBefore","gridAfter","Cell","parseTableCellProperties","cell","span","verticalMerge","parseTableCellVerticalText","directionMap","writingMode","transform","direction","childStyle","handler","valueOfJc","valueOfTextAlignment","valueOfSize","parseTrHeight","parseUnderline","parseIndentation","parseBorderProperties","valueOfMargin","valueOfBorder","parseMarginProperties","valueOfTblLayout","parseSpacing","col","ascii","asciiTheme","themeValue","eastAsia","filter","Set","join","firstLine","hanging","end","output","knownColors","defValue","autoColor","themeColor","parseBorderType","classes","_","asTagName","b","trim","defaultTab","maxTabs","computePixelToPoint","container","document","temp","createElement","appendChild","offsetWidth","removeChild","updateTabStop","defaultTabSize","pixelToPoint","closest","ebb","getBoundingClientRect","pbb","pcs","getComputedStyle","tabStops","t","lengthToPoint","sort","lastTab","pWidthPt","marginLeft","pOffset","tab","querySelectorAll","nextIdx","indexOf","range","createRange","setStart","setEndBefore","setEndAfter","nextBB","innerHTML","textDecoration","wordSpacing","textDecorationStyle","ns","svg","mathML","HtmlRenderer","htmlDocument","styleMap","currentPart","tableVerticalMerges","currentVerticalMerge","tableCellPositions","currentCellPosition","footnoteMap","endnoteMap","currentEndnoteIds","usedHederFooterParts","currentTabs","tasks","postRenderTasks","render","bodyContainer","styleContainer","rootSelector","inWrapper","renderComments","globalThis","Highlight","commentHighlight","removeAllElements","createComment","renderDefaultStyle","renderTheme","processStyles","renderStyles","prodessNumberings","renderNumbering","ignoreFonts","renderFontTable","sectionElements","renderSections","renderWrapper","appendChildren","CSS","highlights","set","allSettled","refreshTabStops","variables","k","entries","cssText","styleToString","createStyleElement","fontsPart","ref","then","fontData","cssValues","processStyleName","stylesMap","baseStyle","baseValues","styleValues","copyStyleProperties","cssName","findStyle","processElement","processTable","getOwnPropertyNames","hasOwnProperty","createPageElement","paddingLeft","paddingRight","paddingTop","paddingBottom","ignoreHeight","minHeight","createSectionContent","columnCount","columnGap","columnRule","sections","splitBySection","groupByPageBreaks","prevProps","currentFootnoteIds","sectProps","pageElement","renderStyleValues","renderHeaders","renderHeaderFooter","sect","contentElement","renderElements","renderFootnotes","renderNotes","renderEndnotes","renderFooters","refs","page","firstOfSection","into","marginTop","marginBottom","isPageBreakElement","ignoreLastRenderedPageBreak","isPageBreakSection","prev","defaultProps","current","pageBreak","pBreakIndex","rBreakIndex","breakPages","findIndex","bind","breakRun","splitRun","newParagraph","slice","runChildren","newRun","currentSectProps","wrapperStyle","hideWrapperOnPrint","styleText","resetCounters","numberingClass","listStyleType","valiable","counter","numberingCounter","counterReset","levelTextToContent","numFormatToCssValue","defautStyles","subStyles","linkedStyle","concat","subStyle","noteIds","notesMap","renderElement","renderParagraph","renderBookmarkStart","renderRun","renderTable","renderTableRow","renderTableCell","renderHyperlink","renderSmartTag","renderDrawing","renderImage","renderText","renderDeletedText","renderTab","renderSymbol","renderBreak","renderContainer","renderFootnoteReference","renderEndnoteReference","renderVmlPicture","renderVmlElement","renderContainerNS","xmlns","renderMmlGroupChar","renderMmlRadical","renderMmlDelimiter","renderMmlRun","renderMmlNary","renderMmlPreSubSuper","renderMmlBar","renderMllList","renderInserted","renderDeleted","renderCommentRangeStart","renderCommentRangeEnd","renderCommentReference","renderAltChunk","elems","flatMap","createElementNS","renderClass","renderCommonProperties","classList","add","renderRunProperties","href","it","commentStart","rng","Range","later","commentEnd","setEnd","commentRef","comment","frg","DocumentFragment","commentRefEl","commentsContainerEl","renderCommentContent","renderAltChunks","srcdoc","Date","toLocaleString","display","textIndent","some","createTextNode","renderChanges","tabSpan","experimental","tabStopClass","stops","findParent","wrapper","renderTableColumns","pop","colElem","renderTableCellPlaceholder","colSpan","rowSpan","createSvgElement","setAttribute","renderVmlChildElement","requestAnimationFrame","bb","getBBox","Math","ceil","y","degree","grouped","sup","sub","supElem","subElem","charElem","stubElem","ouput","lvl","selectors","numformat","suffMap","none","decimal","lowerLetter","upperLetter","lowerRoman","upperRoman","decimalZero","aiueo","aiueoFullWidth","chineseCounting","chineseCountingThousand","chineseLegalSimplified","chosung","ideographDigital","ideographTraditional","ideographLegalTraditional","ideographZodiac","iroha","irohaFullWidth","japaneseCounting","japaneseDigitalTenThousand","japaneseLegal","thaiNumbers","koreanCounting","koreanDigital","koreanDigital2","hebrew1","hebrew2","hindiNumbers","ganada","taiwaneseCounting","taiwaneseCountingThousand","taiwaneseDigital","setTimeout","func","defaultOptions","parseAsync","userOptions","ops","renderDocument","renderer","window","renderAsync"],"sources":["../src/common/relationship.ts","../src/utils.ts","../src/document/common.ts","../src/parser/xml-parser.ts","../src/common/part.ts","../src/font-table/fonts.ts","../src/font-table/font-table.ts","../src/common/open-xml-package.ts","../src/document/document-part.ts","../src/document/border.ts","../src/document/section.ts","../src/document/line-spacing.ts","../src/document/run.ts","../src/document/paragraph.ts","../src/numbering/numbering.ts","../src/numbering/numbering-part.ts","../src/styles/styles-part.ts","../src/document/dom.ts","../src/header-footer/elements.ts","../src/header-footer/parts.ts","../src/document-props/extended-props.ts","../src/document-props/extended-props-part.ts","../src/document-props/core-props.ts","../src/document-props/core-props-part.ts","../src/theme/theme.ts","../src/theme/theme-part.ts","../src/notes/elements.ts","../src/notes/parts.ts","../src/settings/settings.ts","../src/settings/settings-part.ts","../src/document-props/custom-props.ts","../src/document-props/custom-props-part.ts","../src/comments/comments-part.ts","../src/comments/comments-extended-part.ts","../src/word-document.ts","../src/document/bookmarks.ts","../src/vml/vml.ts","../src/comments/elements.ts","../src/document-parser.ts","../src/javascript.ts","../src/html-renderer.ts","../src/docx-preview.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}